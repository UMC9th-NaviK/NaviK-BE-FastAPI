"""
LLM ê¸°ë°˜ PM(Product Manager) KPI ì§ì ‘ í‰ê°€ ëª¨ë“ˆ.

Few-shot Learningì„ í™œìš©í•˜ì—¬ ì´ë ¥ì„œ í…ìŠ¤íŠ¸ì—ì„œ 
PM KPI 10ê°œì— ëŒ€í•œ ì ìˆ˜ë¥¼ ì§ì ‘ ì‚°ì¶œ.
"""
from typing import Dict
from openai import OpenAI
import json

from app.core.config import settings
from app.ai.prompts import REASON_FORMAT_RULES


# KPI ì •ì˜ ë° í‰ê°€ ê¸°ì¤€
KPI_DEFINITIONS = """
## PM KPI 10ê°œ ë° í‰ê°€ ê¸°ì¤€

ì•„ë˜ ì˜ˆì‹œëŠ” **"ê¸°ì¤€í‘œ"** ì—­í• ì„ í•¨ â†’ ì§€ì›ì ê²½í—˜ì´ **ì´ ì¤‘ ì–´ë””ì™€ ê°€ì¥ ë¹„ìŠ·í•œì§€ë§Œ íŒë‹¨**

---

## ê³µí†µ ì›ì¹™ (ì¤‘ìš”)

- ëª¨ë“  ì˜ˆì‹œëŠ” **ì´ë ¥ì„œ ë¬¸ë‹¨ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°€ë„ ìì—°ìŠ¤ëŸ¬ìš´ ì„œìˆ **
- **ë„êµ¬ ì´ë¦„ë³´ë‹¤ íŒë‹¨/í–‰ë™/ê²°ê³¼ ì¤‘ì‹¬**
- "í•™ìŠµ/ê²½í—˜"ë§Œ ìˆìœ¼ë©´ **í•˜**
- "ìš´ì˜ ì¤‘ ë¬¸ì œ â†’ êµ¬ì¡°/ì „ëµ ë³€ê²½"ì´ ìˆìœ¼ë©´ **ìƒ**

## ì ìˆ˜ ë²”ìœ„
- **ìƒ**: 75~90ì  (ê°•í•œ ìƒ=88~90, ë³´í†µ ìƒ=80~87, ì•½í•œ ìƒ=75~79)
- **ì¤‘**: 55~70ì  (ê°•í•œ ì¤‘=67~70, ë³´í†µ ì¤‘=60~66, ì•½í•œ ì¤‘=55~59)
- **í•˜**: 40~50ì  (ì–¸ê¸‰ ìˆìŒ=48~50, ì•½ê°„ ì–¸ê¸‰=44~47, ì „í˜€ ì—†ìŒ=40~43)

## í‰ê°€ ì›ì¹™
- ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰ë˜ì§€ ì•Šì€ KPIëŠ” "í•˜(40~45)" ì²˜ë¦¬
- ë„êµ¬/ê¸°ìˆ  ì´ë¦„ë§Œ ë‚˜ì—´í•˜ë©´ "ì¤‘(55~65)" ìƒí•œ
- "ë¬¸ì œâ†’íŒë‹¨â†’í•´ê²°â†’ê²°ê³¼" íë¦„ì´ ìˆìœ¼ë©´ "ìƒ(80~90)" ê°€ëŠ¥
- í•™ìŠµ/ê²½í—˜ë§Œ ì–¸ê¸‰í•˜ë©´ "í•˜(45~50)"
- ê°™ì€ ë ˆë²¨ ë‚´ì—ì„œë„ ê·¼ê±°ì˜ ê°•ë„ì— ë”°ë¼ ì„¸ë¶€ ì ìˆ˜ ì°¨ë“±

---

## KPIë³„ ìƒì„¸ ì˜ˆì‹œ

## 1ï¸âƒ£ ë¬¸ì œ ì •ì˜ & ê°€ì„¤ ìˆ˜ë¦½

### ğŸ”¼ ìƒ
ì§€í‘œ ë¶„ì„ì„ í†µí•´ ì‚¬ìš©ìì˜ ì´íƒˆ ì§€ì ì„ êµ¬ì¡°ì ìœ¼ë¡œ ì •ì˜í•˜ê³ , ì›ì¸ ê°€ì„¤ì„ ì—¬ëŸ¬ ê°ˆë˜ë¡œ ë¶„í•´í–ˆìŠµë‹ˆë‹¤. ê° ê°€ì„¤ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ ë°ì´í„°ì™€ ê´€ì°° í¬ì¸íŠ¸ë¥¼ ëª…í™•íˆ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì‚¬ìš©ì ë¶ˆí¸ ì‚¬í•­ì„ ì •ë¦¬í•´ ë¬¸ì œë¥¼ ì •ì˜í•˜ê³ , í•´ê²° ë°©í–¥ì— ëŒ€í•œ ê°€ì„¤ì„ ì„¸ì› ìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ìš”ì²­ëœ ê¸°ëŠ¥ì´ë‚˜ ì´ìŠˆë¥¼ ë¬¸ì œë¡œ ì¸ì‹í•˜ê³  ê°œì„ ì•ˆì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

---

## 2ï¸âƒ£ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • (ì •ëŸ‰/ì •ì„±)

### ğŸ”¼ ìƒ
ì •ëŸ‰ ì§€í‘œì™€ ì‚¬ìš©ì ì¸í„°ë·° ê²°ê³¼ë¥¼ í•¨ê»˜ ë¶„ì„í•´ ìš°ì„ ìˆœìœ„ë¥¼ ë„ì¶œí–ˆê³ , ì„ íƒí•˜ì§€ ì•Šì€ ëŒ€ì•ˆì— ëŒ€í•œ ê·¼ê±°ë„ ëª…í™•íˆ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì§€í‘œë¥¼ ì°¸ê³ í•´ ê°œì„  í•„ìš” ì˜ì—­ì„ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
íŒ€ ì˜ê²¬ì´ë‚˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì˜ì‚¬ê²°ì •ì„ í–ˆìŠµë‹ˆë‹¤.

---

## 3ï¸âƒ£ IAÂ·í”Œë¡œìš°Â·í•µì‹¬ êµ¬ì¡° ì„¤ê³„

### ğŸ”¼ ìƒ
ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ì‚¬ìš©ì íë¦„ì„ ì •ì˜í•˜ê³ , ë¶ˆí•„ìš”í•œ ë‹¨ê³„ë¥¼ ì œê±°í•´ êµ¬ì¡°ë¥¼ ì¬ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´í›„ ë””ìì¸ê³¼ ê°œë°œì´ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ê¸°ì¡´ êµ¬ì¡°ë¥¼ ì°¸ê³ í•´ í™”ë©´ íë¦„ê³¼ ê¸°ëŠ¥ ë°°ì¹˜ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
í•„ìš”í•œ í™”ë©´ ëª©ë¡ì„ ë‚˜ì—´í•´ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤.

---

## 4ï¸âƒ£ ìš”êµ¬ì‚¬í•­ ì •ì˜ & ì •ì±… ë¬¸ì„œí™”

### ğŸ”¼ ìƒ
ì‚¬ìš©ìÂ·ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ë¥¼ ì •ì±…ê³¼ ê·œì¹™ìœ¼ë¡œ êµ¬ì¡°í™”í•´ ì˜ˆì™¸ ìƒí™©ê¹Œì§€ ëª…í™•íˆ ë¬¸ì„œí™”í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ê³¼ ê¸°ë³¸ ì •ì±…ì„ ë¬¸ì„œë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
êµ¬ë‘ë¡œ ë…¼ì˜í•œ ë‚´ìš©ì„ ê°„ë‹¨íˆ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

---

## 5ï¸âƒ£ ì‹¤í—˜ ê¸°ë°˜ ì˜ì‚¬ê²°ì • (A/B TestÂ·ê°€ì„¤ ê²€ì¦)

### ğŸ”¼ ìƒ
ê°€ì„¤ ê²€ì¦ì„ ìœ„í•œ ì‹¤í—˜ì„ ì„¤ê³„í•˜ê³ , ê²°ê³¼ ì§€í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¸°ëŠ¥ ìœ ì§€Â·ê°œì„ Â·ì¤‘ë‹¨ì„ ê²°ì •í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì¶œì‹œ í›„ ì§€í‘œ ë³€í™”ë¥¼ ê´€ì°°í•´ ê°œì„  ì—¬ë¶€ë¥¼ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì‹¤í—˜ ì—†ì´ ê¸°ëŠ¥ì„ ì¶œì‹œí–ˆìŠµë‹ˆë‹¤.

---

## 6ï¸âƒ£ ìš°ì„ ìˆœìœ„Â·ìŠ¤ì½”í”„Â·ì¼ì • ê´€ë¦¬

### ğŸ”¼ ìƒ
ë¦¬ì†ŒìŠ¤ì™€ ê¸°ëŒ€ íš¨ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì •í•˜ê³ , ìŠ¤ì½”í”„ë¥¼ ê´€ë¦¬í•´ ë°©í–¥ì„ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì£¼ì–´ì§„ ì¼ì • ë‚´ì—ì„œ ìš”ì²­ì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ìš”ì²­ëœ ì‘ì—…ì„ ëª¨ë‘ ì¼ì •ì— ë°˜ì˜í–ˆìŠµë‹ˆë‹¤.

---

## 7ï¸âƒ£ ì‹¤í–‰ë ¥ & ì˜¤ë„ˆì‹­ (ì‹ ê·œÂ·ë³µì›)

### ğŸ”¼ ìƒ
ê²°ì •ëœ ì‚¬í•­ì„ ëê¹Œì§€ ì±…ì„ì§€ê³  ì¶”ì§„í–ˆìœ¼ë©°, ì´ìŠˆ ë°œìƒ ì‹œ ì¡°ìœ¨ê³¼ ë³µì›ì„ í†µí•´ ê²°ê³¼ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë‹´ë‹¹ ì˜ì—­ì˜ ì‘ì—…ì„ ì¼ì •ì— ë§ì¶° ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì§€ì‹œëœ ì‘ì—…ë§Œ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

---

## 8ï¸âƒ£ ê°œë°œ/ë””ìì¸/ë¹„ì¦ˆë‹ˆìŠ¤ í˜‘ì—… ì¡°ìœ¨

### ğŸ”¼ ìƒ
ê° ì§êµ°ì˜ ê´€ì ì„ í•˜ë‚˜ì˜ ì˜ì‚¬ê²°ì • ì–¸ì–´ë¡œ ì •ë¦¬í•´ ê°ˆë“±ì„ ì¡°ìœ¨í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì˜ê²¬ì„ ì „ë‹¬í•˜ê³  ì¼ì • ì¡°ìœ¨ì„ ì§€ì›í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
íšŒì˜ ë‚´ìš©ì„ ì „ë‹¬í•˜ëŠ” ì—­í• ì— ê·¸ì³¤ìŠµë‹ˆë‹¤.

---

## 9ï¸âƒ£ AI/LLM í™œìš© ê¸°íš ëŠ¥ë ¥

### ğŸ”¼ ìƒ
LLMì˜ í•œê³„ë¥¼ ê³ ë ¤í•´ í”„ë¡¬í”„íŠ¸ì™€ íë¦„ì„ ì„¤ê³„í•˜ê³ , ì‹¤ì œ ì‚¬ìš©ì ê°€ì¹˜ë¡œ ì—°ê²°ë˜ëŠ” ê¸°ëŠ¥ì„ ê¸°íší–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
AI ê¸°ëŠ¥ ì•„ì´ë””ì–´ë¥¼ ì œì•ˆí•˜ê³  í™œìš© ê°€ëŠ¥ì„±ì„ ê²€í† í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ëŠ” ìˆ˜ì¤€ì— ë¨¸ë¬¼ë €ìŠµë‹ˆë‹¤.

---

## ğŸ”Ÿ ì‚¬ìš©ì ë¦¬ì„œì¹˜ & ê³µê° ëŠ¥ë ¥

### ğŸ”¼ ìƒ
ì‚¬ìš©ì ì¸í„°ë·°ì™€ í–‰ë™ ë°ì´í„°ë¥¼ ë¶„ì„í•´ ì¸ì‚¬ì´íŠ¸ë¥¼ ë„ì¶œí•˜ê³ , ì´ë¥¼ ì œí’ˆ ê°œì„ ìœ¼ë¡œ ì—°ê²°í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì‚¬ìš©ì í”¼ë“œë°±ì„ ì •ë¦¬í•´ ê°œì„  ë°©í–¥ì„ ë„ì¶œí–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì‚¬ìš©ì ì˜ê²¬ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.
"""


# Few-shot ì˜ˆì‹œ
FEW_SHOT_EXAMPLES = """
## í‰ê°€ ì˜ˆì‹œ

### ì˜ˆì‹œ A (ë°ì´í„°Â·ì‹¤í—˜ ì¤‘ì‹¬ PM)
ì…ë ¥:
"ì‹ ê·œ ê¸°ëŠ¥ ë„ì… ì´í›„ í™œì„± ì‚¬ìš©ì ìˆ˜ê°€ ì •ì²´ë˜ëŠ” í˜„ìƒì„ ê°œì„ í•˜ê¸° ìœ„í•´ ì„œë¹„ìŠ¤ ì‚¬ìš© íë¦„ì„ ë¶„ì„í•˜ëŠ” ì—­í• ì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ë¡œê·¸ ë°ì´í„°ë¥¼ í™•ì¸í•œ ê²°ê³¼, ê°€ì… ì´í›„ ì²« í•µì‹¬ í–‰ë™ì— ë„ë‹¬í•˜ëŠ” ë¹„ìœ¨ì´ ë‚®ë‹¤ëŠ” ì ì„ ë°œê²¬í–ˆê³ , ì‚¬ìš©ì ì¸í„°ë·°ì—ì„œë„ ì´ˆê¸° í™”ë©´ì´ ë³µì¡í•´ ë¬´ì—‡ì„ í•´ì•¼ í• ì§€ ëª¨ë¥´ê² ë‹¤ëŠ” ì˜ê²¬ì´ ë°˜ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì´ˆê¸° ê²½í—˜ì´ ë‹¨ìˆœí• ìˆ˜ë¡ í•µì‹¬ í–‰ë™ ì „í™˜ìœ¨ì´ ë†’ì•„ì§ˆ ê²ƒì´ë¼ëŠ” ê°€ì„¤ì„ ì„¸ìš°ê³  ê°œì„  ë°©í–¥ì„ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ ê°€ì„¤ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ ê¸°ì¡´ ì˜¨ë³´ë”© íë¦„ê³¼ ë‹¨ìˆœí™”í•œ íë¦„ì„ ë™ì‹œì— ìš´ì˜í•˜ëŠ” ì‹¤í—˜ì„ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. í•µì‹¬ í–‰ë™ ë„ë‹¬ë¥ ê³¼ D1 ì”ì¡´ìœ¨ì„ ì£¼ìš” ì§€í‘œë¡œ ì„¤ì •í•˜ê³ , ê° íë¦„ì˜ ì„±ê³¼ë¥¼ ë¹„êµí•´ ì‹¤ì œ ì‚¬ìš©ì ë°˜ì‘ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì‹¤í—˜ ê²°ê³¼ ë‹¨ìˆœí™”í•œ íë¦„ì—ì„œ í•µì‹¬ í–‰ë™ ì „í™˜ìœ¨ì´ ìœ ì˜ë¯¸í•˜ê²Œ ë†’ê²Œ ë‚˜íƒ€ë‚˜, ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì „ë°˜ì— ì ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ê°œë°œÂ·ë””ìì¸ íŒ€ê³¼ í•¨ê»˜ IAì™€ í™”ë©´ êµ¬ì¡°ë¥¼ ìˆ˜ì •í•˜ê³ , ê¸°ëŠ¥ ë…¸ì¶œ ê·œì¹™ê³¼ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì •ì±… ë¬¸ì„œë¡œ ì •ë¦¬í•´ êµ¬í˜„ ê¸°ì¤€ì„ ëª…í™•íˆ í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ì‹¤í—˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ íš¨ê³¼ê°€ ë‚®ì€ ê¸°ëŠ¥ ìš”ì²­ì€ ë³´ë¥˜í•˜ê³ , ì§€í‘œ ê°œì„ ì— ê¸°ì—¬í•˜ëŠ” í•­ëª©ì— ë¦¬ì†ŒìŠ¤ë¥¼ ì§‘ì¤‘í•´ ë¡œë“œë§µì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì´í›„ì—ë„ ì§€í‘œë¥¼ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ë©° ê°€ì„¤ì„ ì—…ë°ì´íŠ¸í•´ ì„œë¹„ìŠ¤ ê²½í—˜ì„ ë°˜ë³µì ìœ¼ë¡œ ê°œì„ í–ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 85, "2": 85, "3": 85, "4": 85, "5": 85, "6": 85, "7": 85, "8": 65, "9": 45, "10": 85}

ê·¼ê±°:
- KPI 1(85): ë¡œê·¸ ë¶„ì„ìœ¼ë¡œ í•µì‹¬ í–‰ë™ ë„ë‹¬ë¥ ì´ ë‚®ë‹¤ëŠ” êµ¬ì¡°ì  ë¬¸ì œ ì •ì˜, ì‚¬ìš©ì ì¸í„°ë·°ë¡œ ì›ì¸ ë§¥ë½ í™•ì¸, "ì´ˆê¸° ê²½í—˜ ë‹¨ìˆœí™” â†’ ì „í™˜ìœ¨ ìƒìŠ¹"ì´ë¼ëŠ” ëª…í™•í•œ ê°€ì„¤ ìˆ˜ë¦½ â†’ êµê³¼ì„œì ì¸ ìƒ
- KPI 2(85): ë¡œê·¸ ë°ì´í„° + ì‚¬ìš©ì ì¸í„°ë·°ë¥¼ í•¨ê»˜ ì‚¬ìš©, í•µì‹¬ í–‰ë™ ì „í™˜ìœ¨Â·D1 ì”ì¡´ìœ¨ì„ ì˜ì‚¬ê²°ì • ì§€í‘œë¡œ ì„¤ì •, ë‘ ì•ˆì„ ë¹„êµí•˜ëŠ” êµ¬ì¡°ì  íŒë‹¨ â†’ ê°•í•œ ìƒ
- KPI 3(85): ê¸°ì¡´ ì˜¨ë³´ë”© íë¦„ê³¼ ë‹¨ìˆœí™” íë¦„ì„ ë¹„êµ ì„¤ê³„, IAì™€ í™”ë©´ êµ¬ì¡°ë¥¼ ì‹¤í—˜ ê²°ê³¼ ê¸°ì¤€ìœ¼ë¡œ ìˆ˜ì •, ì´í›„ ê°œë°œÂ·ë””ìì¸ì˜ ê¸°ì¤€ êµ¬ì¡°ë¡œ ì‚¬ìš© â†’ ê°•í•œ ìƒ
- KPI 4(85): ê¸°ëŠ¥ ë…¸ì¶œ ê·œì¹™ê³¼ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì •ì±… ë¬¸ì„œë¡œ ì •ë¦¬, êµ¬í˜„ ê¸°ì¤€ì´ ë˜ëŠ” ë¬¸ì„œê°€ ì¡´ì¬ â†’ ê°•í•œ ìƒ
- KPI 5(85): A/B í…ŒìŠ¤íŠ¸ ì„¤ê³„, ì „í™˜ìœ¨Â·ì”ì¡´ìœ¨ ë¹„êµ, ê²°ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì „ë©´ ì ìš© ê²°ì • â†’ ëª…í™•í•œ ìƒ
- KPI 6(85): ì‹¤í—˜ ê²°ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íš¨ê³¼ ë‚®ì€ ê¸°ëŠ¥ ìš”ì²­ ì œì™¸, ë¡œë“œë§µ ì¬ì¡°ì •, ë¦¬ì†ŒìŠ¤ë¥¼ ì§€í‘œ ê°œì„  í•­ëª©ì— ì§‘ì¤‘ â†’ ê°•í•œ ìƒ
- KPI 7(85): ê°€ì„¤ â†’ ì‹¤í—˜ â†’ ì ìš© â†’ ë°˜ë³µ ê°œì„ ê¹Œì§€ ì§ì ‘ ì£¼ë„, ê²°ì •ëœ ë°©í–¥ì„ ëê¹Œì§€ ì‹¤í–‰ â†’ ê°•í•œ ìƒ
- KPI 8(65): ê°œë°œÂ·ë””ìì¸ê³¼ í•¨ê»˜ IAÂ·ì •ì±… ìˆ˜ì •, ê°ˆë“± êµ¬ì¡°í™”Â·ì˜ì‚¬ê²°ì • ë²ˆì—­ ìˆ˜ì¤€ì˜ ì¦ê±°ëŠ” ë¶€ì¡± â†’ ë³´í†µ ì¤‘
- KPI 9(45): AI/LLM ê´€ë ¨ ê¸°íš, í”„ë¡¬í”„íŠ¸, ê¸°ëŠ¥ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(85): ì‚¬ìš©ì ì¸í„°ë·°, í–‰ë™ ë¡œê·¸, ì´ë¥¼ ë¬¸ì œ ì •ì˜ì™€ ê°œì„ ìœ¼ë¡œ ì—°ê²° â†’ ê°•í•œ ìƒ

### ì˜ˆì‹œ B (êµ¬ì¡°Â·ì •ì±… ì¤‘ì‹¬ PM)
ì…ë ¥:
"ì„œë¹„ìŠ¤ê°€ ì„±ì¥í•˜ë©´ì„œ ê¸°ëŠ¥ê³¼ í™”ë©´ì´ ë¹ ë¥´ê²Œ ëŠ˜ì–´ë‚˜ ì‚¬ìš©ìì™€ ë‚´ë¶€ íŒ€ ëª¨ë‘ê°€ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¨ìˆœíˆ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸°ë³´ë‹¤, ì„œë¹„ìŠ¤ì˜ ëª©ì ê³¼ ì‚¬ìš©ì ëª©í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì „ì²´ ê¸°ëŠ¥ êµ¬ì¡°ë¥¼ ì •ë¦¬í•˜ëŠ” ì‘ì—…ì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ì‚¬ìš©ì ìœ í˜•ë³„ë¡œ ê°€ì¥ ì¤‘ìš”í•œ í–‰ë™ê³¼ íë¦„ì„ ì •ì˜í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ IAì™€ í•µì‹¬ í”Œë¡œìš°ë¥¼ ì¬êµ¬ì„±í•´ ì„œë¹„ìŠ¤ì˜ ê¸°ë³¸ ë¼ˆëŒ€ë¥¼ ë‹¤ì‹œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¸°ëŠ¥ ì ‘ê·¼ ë°©ì‹ê³¼ ë…¸ì¶œ ì¡°ê±´, ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™ì„ ì •ì±… ë¬¸ì„œë¡œ ì •ë¦¬í•´ ê°œë°œíŒ€ê³¼ ê³µìœ í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë¹„ìŠ·í•œ ìš”ì²­ì´ ë°˜ë³µì ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ìƒí™©ì—ì„œ ì–´ë–¤ ê¸°ëŠ¥ì„ ìš°ì„  ê°œë°œí•˜ê³  ì–´ë–¤ ê¸°ëŠ¥ì€ ë³´ë¥˜í• ì§€ íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ ê¸°ì¤€ì„ ë§ˆë ¨í•´, ì´í›„ ì˜ì‚¬ê²°ì •ì´ ì¼ê´€ë˜ê²Œ ì´ë£¨ì–´ì§€ë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì •ì±…ì€ ê°œë°œê³¼ ë””ìì¸ ë…¼ì˜ì—ì„œë„ ê¸°ì¤€ì ìœ¼ë¡œ í™œìš©ë˜ì–´, ê° íŒ€ì´ ê°™ì€ ë°©í–¥ì„ ë³´ê³  ì‘ì—…í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ìƒˆë¡­ê²Œ ì •ì˜í•œ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¡œë“œë§µê³¼ ì¼ì • ê³„íšì„ ì¡°ì •í•´ í•µì‹¬ ì‚¬ìš©ì ê°€ì¹˜ì™€ ì§ì ‘ ì—°ê²°ë˜ì§€ ì•ŠëŠ” ì‘ì—…ì€ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ì›”í•˜ê³ , í˜„ì¬ ë‹¨ê³„ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê°œì„  ê³¼ì œì— ë¦¬ì†ŒìŠ¤ë¥¼ ì§‘ì¤‘í–ˆìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ í˜¼ì„ ì´ ì¤„ì—ˆê³ , ì„œë¹„ìŠ¤ í™•ì¥ ê³¼ì •ì—ì„œë„ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ê¸°ë°˜ì´ ë§ˆë ¨ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 65, "2": 45, "3": 85, "4": 85, "5": 45, "6": 85, "7": 85, "8": 85, "9": 45, "10": 45}

ê·¼ê±°:
- KPI 1(65): "ê¸°ëŠ¥ê³¼ í™”ë©´ì´ ëŠ˜ì–´ë‚˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›€"ì´ë¼ëŠ” ë¬¸ì œ ì •ì˜, ë°ì´í„°Â·ì§€í‘œ ê¸°ë°˜ ì›ì¸ ë¶„í•´ëŠ” ì—†ìŒ, êµ¬ì¡° ì¬ì •ì˜ í•„ìš”ì„± ì¤‘ì‹¬ì˜ ê°€ì„¤ â†’ ë³´í†µ ì¤‘
- KPI 2(45): ì§€í‘œ, ë¡œê·¸, ì¸í„°ë·° ì–¸ê¸‰ ì—†ìŒ, íŒë‹¨ ê·¼ê±°ê°€ êµ¬ì¡°ì  í•„ìš”ì„±ê³¼ ê²½í—˜ ê¸°ë°˜ â†’ í•˜
- KPI 3(85): ì‚¬ìš©ì ìœ í˜•Â·ëª©í‘œ ê¸°ì¤€ìœ¼ë¡œ IA ì¬êµ¬ì„±, í•µì‹¬ í”Œë¡œìš°ì™€ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ì„¤ê³„, ì´í›„ íŒ€ ì‘ì—…ì˜ ê¸°ì¤€ êµ¬ì¡°ë¡œ ì‚¬ìš© â†’ êµê³¼ì„œì  ìƒ
- KPI 4(85): ë…¸ì¶œ ì¡°ê±´, ì ‘ê·¼ ë°©ì‹, ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™ì„ ì •ì±… ë¬¸ì„œë¡œ ëª…í™•íˆ êµ¬ì¡°í™” â†’ ê°•í•œ ìƒ
- KPI 5(45): A/B í…ŒìŠ¤íŠ¸, ê°€ì„¤ ê²€ì¦, ì§€í‘œ ë¹„êµ ì—†ìŒ â†’ í•˜
- KPI 6(85): ë¡œë“œë§µ ì¬ì¡°ì •, í•µì‹¬ ì‚¬ìš©ì ê°€ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì½”í”„ ì¡°ì •, ë¦¬ì†ŒìŠ¤ ì§‘ì¤‘ â†’ ê°•í•œ ìƒ
- KPI 7(85): êµ¬ì¡° ì„¤ê³„, ì •ì±… ë¬¸ì„œí™”, ë¡œë“œë§µ ì¬ì¡°ì •ê¹Œì§€ ì§ì ‘ ì£¼ë„ â†’ ê°•í•œ ìƒ
- KPI 8(85): ì •ì±…ê³¼ êµ¬ì¡°ë¥¼ ê³µí†µ ê¸°ì¤€ìœ¼ë¡œ ì œê³µ, ê° íŒ€ì´ ê°™ì€ ê¸°ì¤€ìœ¼ë¡œ ë…¼ì˜Â·ì‘ì—… â†’ ê°•í•œ ìƒ
- KPI 9(45): AI/LLM ê´€ë ¨ ê¸°íš ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(45): ì‚¬ìš©ì ì¸í„°ë·°, í–‰ë™ ë°ì´í„°, ì¸ì‚¬ì´íŠ¸ ì–¸ê¸‰ ì—†ìŒ, êµ¬ì¡° ì¤‘ì‹¬ íŒë‹¨ â†’ í•˜

### ì˜ˆì‹œ C (ì‹¤í–‰Â·ìš´ì˜ ì¤‘ì‹¬ ì‹¤ë¬´ PM)
ì…ë ¥:
"ì„œë¹„ìŠ¤ ëŸ°ì¹­ì„ ì¤€ë¹„í•˜ëŠ” ê³¼ì •ì—ì„œ ì¼ì •ê³¼ ê¸°ëŠ¥ ë²”ìœ„ë¥¼ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ ë§¡ì•„ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ íŒ€ì´ ë™ì‹œì— ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ìƒí™©ì—ì„œ, í˜„ì¬ ë‹¨ê³„ì—ì„œ ë°˜ë“œì‹œ í•„ìš”í•œ ê¸°ëŠ¥ê³¼ ì´í›„ë¡œ ë¯¸ë¤„ë„ ë˜ëŠ” í•­ëª©ì„ êµ¬ë¶„í•´ ì •ë¦¬í•˜ë©° ê°œë°œê³¼ ë””ìì¸ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë§ì¶”ëŠ” ë° ì§‘ì¤‘í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ íŒ€ì´ ê°€ì¥ ì¤‘ìš”í•œ ëª©í‘œì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë°©í–¥ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤. ê°œë°œê³¼ ë””ìì¸ ì§„í–‰ ìƒí™©ì„ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ë©°, ì´ìŠˆê°€ ë°œìƒí•  ê²½ìš° ê´€ë ¨ ì¸ì›ê³¼ ë°”ë¡œ ë…¼ì˜í•´ í•´ê²° ë°©ì•ˆì„ ì°¾ì•˜ìŠµë‹ˆë‹¤. ê¸°ëŠ¥ êµ¬í˜„ì´ ì§€ì—°ë˜ê±°ë‚˜ ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì „ì²´ ì¼ì •ì— ì˜í–¥ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë„ë¡ ë²”ìœ„ë¥¼ ì¡°ì •í–ˆê³ , í•µì‹¬ íë¦„ì´ ìœ ì§€ë˜ë„ë¡ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ì¼ë¶€ ê¸°ëŠ¥ì€ ìµœì†Œí•œì˜ í˜•íƒœë¡œ ë¨¼ì € êµ¬í˜„í•´ ì¶œì‹œí•œ ë’¤, ìš´ì˜ ìƒí™©ì„ ë³´ë©° ì ì§„ì ìœ¼ë¡œ ê°œì„ í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ì¶œì‹œ ì´í›„ì—ëŠ” ì‚¬ìš©ì ë¬¸ì˜ì™€ í”¼ë“œë°±ì„ ì •ë¦¬í•´ ê¸´ê¸‰ ìˆ˜ì •ì´ í•„ìš”í•œ í•­ëª©ì„ ë¹ ë¥´ê²Œ ë°˜ì˜í–ˆê³ , ì•ˆì •í™” ì´í›„ì—ëŠ” ê°œì„  ê³¼ì œë¥¼ ë„ì¶œí•´ ë‹¤ìŒ ì‘ì—…ìœ¼ë¡œ ì´ì–´ì§€ë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ PMìœ¼ë¡œì„œ ì‹¤í–‰ê³¼ ì¡°ìœ¨ì„ í†µí•´ ì„œë¹„ìŠ¤ê°€ ì‹¤ì œë¡œ ìš´ì˜ë  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” ì—­í• ì˜ ì¤‘ìš”ì„±ì„ ì²´ê°í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 65, "2": 45, "3": 45, "4": 65, "5": 45, "6": 85, "7": 85, "8": 65, "9": 45, "10": 65}

ê·¼ê±°:
- KPI 1(65): "ì¼ì • ì§€ì—°Â·ê¸°ëŠ¥ ëˆ„ë½"ì´ë¼ëŠ” ìš´ì˜ ë¬¸ì œ ì¸ì‹, êµ¬ì¡°ì  ì›ì¸ ë¶„í•´Â·ê°€ì„¤ íŠ¸ë¦¬ëŠ” ì—†ìŒ â†’ ë³´í†µ ì¤‘
- KPI 2(45): ì§€í‘œÂ·ë¡œê·¸Â·ì¸í„°ë·° ê·¼ê±° ì—†ìŒ, ì¼ì •Â·ìƒíƒœ ì¤‘ì‹¬ íŒë‹¨ â†’ í•˜
- KPI 3(45): í™”ë©´ êµ¬ì¡°, ì‚¬ìš©ì íë¦„, IA ì„¤ê³„ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 4(65): "ë°˜ë“œì‹œ í•„ìš”í•œ ê¸°ëŠ¥ / ì´í›„ë¡œ ë¯¸ë£° ê¸°ëŠ¥" ì •ë¦¬, ê¸°ë³¸ì ì¸ ìš”êµ¬ì‚¬í•­ êµ¬ì¡°í™” â†’ ë³´í†µ ì¤‘
- KPI 5(45): ì‹¤í—˜, ë¹„êµ, ì§€í‘œ ê¸°ë°˜ íŒë‹¨ ì—†ìŒ â†’ í•˜
- KPI 6(85): í•µì‹¬ ê¸°ëŠ¥ vs ë‚˜ì¤‘ ê¸°ëŠ¥ êµ¬ë¶„, ìŠ¤ì½”í”„ ì¶•ì†Œ í›„ ëŸ°ì¹­, ì¼ì • ìœ ì§€ ì „ëµ â†’ ê°•í•œ ìƒ (ì´ ì˜ˆì‹œì˜ í•µì‹¬ ê°•ì )
- KPI 7(85): ì´ìŠˆ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¡°ìœ¨, ëŸ°ì¹­ â†’ ì•ˆì •í™” â†’ ê°œì„ ê¹Œì§€ ì´ì–´ì§ â†’ ê°•í•œ ìƒ
- KPI 8(65): ì§„í–‰ ìƒí™© ê³µìœ , ì´ìŠˆ ë°œìƒ ì‹œ ê´€ë ¨ ì¸ì›ê³¼ ë…¼ì˜, ê°ˆë“± êµ¬ì¡°í™”ê¹Œì§€ëŠ” ì•„ë‹˜ â†’ ë³´í†µ ì¤‘
- KPI 9(45): AI ê¸°íšÂ·í”„ë¡¬í”„íŠ¸Â·ê¸°ëŠ¥ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(65): ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘, ê¸´ê¸‰ ìˆ˜ì • ë°˜ì˜ â†’ ë³´í†µ ì¤‘

### ì˜ˆì‹œ D (ìš”ì²­ ì²˜ë¦¬í˜• PM)
ì…ë ¥:
"ì—¬ëŸ¬ ë¶€ì„œì™€ ì´í•´ê´€ê³„ìë¡œë¶€í„° ì „ë‹¬ë˜ëŠ” ê¸°ëŠ¥ ìš”ì²­ê³¼ ê°œì„  ì‚¬í•­ì„ ì •ë¦¬í•˜ê³ , ì´ë¥¼ ê°œë°œíŒ€ê³¼ ê³µìœ í•˜ëŠ” ì—­í• ì„ ë§¡ì•„ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤. ìš´ì˜ ê³¼ì •ì—ì„œ ì ‘ìˆ˜ë˜ëŠ” ì‚¬ìš©ì ë¬¸ì˜ì™€ ë‚´ë¶€ ìš”ì²­ì„ ëª¨ì•„ ìš°ì„ ì ìœ¼ë¡œ ë°˜ì˜í•´ì•¼ í•  í•­ëª©ì„ ì •ë¦¬í–ˆê³ , ê¸°ëŠ¥ ì¶”ê°€ë‚˜ ìˆ˜ì •ì´ í•„ìš”í•  ê²½ìš° ê´€ë ¨ ë‚´ìš©ì„ ë¬¸ì„œë¡œ ì •ë¦¬í•´ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œíŒ€ì´ ì–´ë–¤ ì‘ì—…ì„ ì§„í–‰í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í–ˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ìš´ì˜ ì¤‘ ë°œìƒí•˜ëŠ” ì´ìŠˆë‚˜ ì¼ì • ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ë•Œì—ëŠ” ê´€ë ¨ íŒ€ì— ê³µìœ í•˜ë©° ì¡°ìœ¨ ì—­í• ì„ ìˆ˜í–‰í–ˆê³ , ê¸°ëŠ¥ êµ¬í˜„ ìƒíƒœë¥¼ í™•ì¸í•´ ì´í•´ê´€ê³„ìì—ê²Œ ì§„í–‰ ìƒí™©ì„ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¶ˆí¸ ì‚¬í•­ì´ ì ‘ìˆ˜ë˜ë©´ í•´ë‹¹ ë‚´ìš©ì„ ì •ë¦¬í•´ ê°œì„  ìš”ì²­ìœ¼ë¡œ ì „í™˜í–ˆê³ , ìˆ˜ì •ëœ ê¸°ëŠ¥ì´ ì‹¤ì œë¡œ ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì—­í• ë„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ê¸°íš ê³¼ì •ì—ì„œëŠ” ê¸°ì¡´ì— ì •í•´ì§„ ì„œë¹„ìŠ¤ ë°©í–¥ê³¼ ìš”ì²­ ì‚¬í•­ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì—…ì„ ì •ë¦¬í•˜ëŠ” ë° ì§‘ì¤‘í–ˆìœ¼ë©°, ì´ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ê°€ ì¼ì •ê³¼ ë²”ìœ„ ë‚´ì—ì„œ ì§„í–‰ë  ìˆ˜ ìˆë„ë¡ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ìš”ì²­ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê³  íŒ€ ê°„ ì†Œí†µì„ ì›í™œí•˜ê²Œ í•˜ëŠ” ê²½í—˜ì„ ìŒ“ìœ¼ë©°, ì„œë¹„ìŠ¤ ìš´ì˜ ì „ë°˜ì˜ íë¦„ê³¼ PMì˜ ì—­í• ì„ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 45, "2": 45, "3": 45, "4": 65, "5": 45, "6": 65, "7": 65, "8": 65, "9": 45, "10": 65}

ê·¼ê±°:
- KPI 1(45): "ìš”ì²­ê³¼ ë¬¸ì˜ê°€ ë§ë‹¤"ëŠ” í˜„ìƒ ì¸ì‹, êµ¬ì¡°ì  ì›ì¸ ë¶„ì„ì´ë‚˜ ê°€ì„¤ ë¶„í•´ ì—†ìŒ, ìš”ì²­ì„ ë¬¸ì œë¡œ ë°›ì•„ë“¤ì´ëŠ” ìˆ˜ì¤€ â†’ í•˜
- KPI 2(45): ì§€í‘œ, ë¡œê·¸, ì¸í„°ë·° ì–¸ê¸‰ ì—†ìŒ, ìš”ì²­ê³¼ ë¬¸ì˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒë‹¨ â†’ í•˜
- KPI 3(45): í™”ë©´ íë¦„, ì‚¬ìš©ì êµ¬ì¡°, IA ì„¤ê³„ ì—†ìŒ, ê¸°ì¡´ ë°©í–¥ì„ ë”°ë¦„ â†’ í•˜
- KPI 4(65): ìš”ì²­Â·ì´ìŠˆë¥¼ ë¬¸ì„œë¡œ ì •ë¦¬í•´ ì „ë‹¬, ê¸°ëŠ¥ ìˆ˜ì •Â·ì¶”ê°€ ìš”ì²­ êµ¬ì¡°í™”, ë‹¤ë§Œ ì •ì±…Â·ê·œì¹™ ìˆ˜ì¤€ì€ ì•„ë‹˜ â†’ ë³´í†µ ì¤‘
- KPI 5(45): ì‹¤í—˜, ë¹„êµ, ì§€í‘œ ê¸°ë°˜ íŒë‹¨ ì—†ìŒ, ìš”ì²­ â†’ ë°˜ì˜ íë¦„ â†’ í•˜
- KPI 6(65): "ìš°ì„ ì ìœ¼ë¡œ ë°˜ì˜í•´ì•¼ í•  í•­ëª©" ì •ë¦¬, ì¼ì •ê³¼ ë²”ìœ„ ë‚´ì—ì„œ ê´€ë¦¬, íš¨ê³¼Â·ë¦¬ìŠ¤í¬ ê¸°ë°˜ íŒë‹¨ì€ ì•„ë‹˜ â†’ ë³´í†µ ì¤‘
- KPI 7(65): ìš”ì²­ ìˆ˜ì§‘ â†’ ì „ë‹¬ â†’ ë°˜ì˜ í™•ì¸, ë‹´ë‹¹ ì˜ì—­ì€ ëê¹Œì§€ ìˆ˜í–‰ â†’ ë³´í†µ ì¤‘
- KPI 8(65): ì—¬ëŸ¬ ë¶€ì„œ ìš”ì²­ ìˆ˜í•©, ê°œë°œíŒ€Â·ì´í•´ê´€ê³„ìì™€ ì†Œí†µ, ë‹¤ë§Œ ê°ˆë“± êµ¬ì¡°í™”Â·ì˜ì‚¬ê²°ì • ë²ˆì—­ì€ ì—†ìŒ â†’ ë³´í†µ ì¤‘
- KPI 9(45): AI, í”„ë¡¬í”„íŠ¸, ìë™í™” ê¸°íš ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(65): ì‚¬ìš©ì ë¬¸ì˜Â·ë¶ˆí¸ ì‚¬í•­ ìˆ˜ì§‘, ì´ë¥¼ ê°œì„  ìš”ì²­ìœ¼ë¡œ ì „í™˜, ì •ì„± ë¦¬ì„œì¹˜Â·ì¸ì‚¬ì´íŠ¸ ìˆ˜ì¤€ì€ ì•„ë‹˜ â†’ ë³´í†µ ì¤‘

### ì˜ˆì‹œ E (ê°ê°Â·ì•„ì´ë””ì–´ ì¤‘ì‹¬ PM)
ì…ë ¥:
"ì‚¬ìš©ìì—ê²Œ ë” í¥ë¯¸ë¡­ê³  ë§¤ë ¥ì ì¸ ê²½í—˜ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì„œë¹„ìŠ¤ ê¸°íšì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ê¸°ëŠ¥ ì•„ì´ë””ì–´ì™€ í™”ë©´ êµ¬ì„±ì— ëŒ€í•œ ì œì•ˆì„ í•˜ë©° íŒ€ ë…¼ì˜ì— ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬í–ˆê³ , ê²½ìŸ ì„œë¹„ìŠ¤ì™€ ìµœê·¼ íŠ¸ë Œë“œë¥¼ ì°¸ê³ í•´ ê°œì„  ë°©í–¥ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ ë” ìì£¼ ì„œë¹„ìŠ¤ë¥¼ ë°©ë¬¸í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ ì¶”ì²œ ì˜ì—­ê³¼ ì‹œê°ì  ìš”ì†Œë¥¼ ê°•í™”í•˜ëŠ” ë°©ì•ˆì„ ì œì•ˆí–ˆê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì´ˆê¸° í™”ë©´ êµ¬ì„±ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ê¸°ëŠ¥ì„ ì¶œì‹œí•œ ì´í›„ì—ëŠ” ì‚¬ìš©ìë“¤ì˜ ë°˜ì‘ê³¼ íŒ€ ë‚´ í”¼ë“œë°±ì„ ì°¸ê³ í•´ ì¶”ê°€ ê°œì„  ë°©í–¥ì„ ë…¼ì˜í–ˆìŠµë‹ˆë‹¤. ì–´ë–¤ ê¸°ëŠ¥ì´ ë” ì£¼ëª©ë°›ëŠ”ì§€, ì–´ë–¤ í™”ë©´ì´ ë” ì§ê´€ì ì¸ì§€ì— ëŒ€í•´ ì˜ê²¬ì„ ëª¨ì•„ ë‹¤ìŒ ê¸°íšì— ë°˜ì˜í•˜ë ¤ í–ˆìœ¼ë©°, ë¹ ë¥´ê²Œ ì•„ì´ë””ì–´ë¥¼ ì ìš©í•˜ê³  ë°˜ì‘ì„ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ë°œì „ì‹œí‚¤ê³ ì í–ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ì•„ì´ë””ì–´ë¥¼ ë™ì‹œì— ê²€í† í•˜ë©° ë‹¤ì–‘í•œ ê°€ëŠ¥ì„±ì„ ì—´ì–´ë‘ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  íŒë‹¨í–ˆê³ , ì´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ì˜ ë°©í–¥ì„±ì„ íƒìƒ‰í–ˆìŠµë‹ˆë‹¤. ê°œë°œ ë° ë””ìì¸ íŒ€ê³¼ í˜‘ì—…í•˜ë©° ê¸°íš ë‚´ìš©ì„ ê³µìœ í–ˆê³ , ë³€ê²½ë˜ëŠ” ìš”êµ¬ì‚¬í•­ì„ ë°˜ì˜í•´ í™”ë©´ê³¼ ê¸°ëŠ¥ êµ¬ì„±ì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•œ ì•„ì´ë””ì–´ ì œì•ˆê³¼ ë°©í–¥ì„± ì„¤ì •ì´ PM ì—­í• ì—ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë¼ëŠ” ê²ƒì„ ì²´ê°í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 45, "2": 45, "3": 45, "4": 45, "5": 45, "6": 45, "7": 65, "8": 65, "9": 45, "10": 65}

ê·¼ê±°:
- KPI 1(45): "ë” í¥ë¯¸ë¡­ê³  ë§¤ë ¥ì ì¸ ê²½í—˜"ì´ë¼ëŠ” ë°©í–¥ì„±, êµ¬ì¡°ì  ë¬¸ì œ ì •ì˜ë‚˜ ì›ì¸ ê°€ì„¤ ì—†ìŒ, ì•„ì´ë””ì–´ ì œì•ˆ ì¤‘ì‹¬ â†’ í•˜
- KPI 2(45): ì‚¬ìš©ì ë°˜ì‘Â·íŒ€ í”¼ë“œë°± ì–¸ê¸‰ì€ ìˆìœ¼ë‚˜, ì§€í‘œ, ë¡œê·¸, ì¸í„°ë·° ë¶„ì„ ì—†ìŒ, íŒë‹¨ ê·¼ê±°ê°€ ì •ì„±ì  ê°ê° â†’ í•˜
- KPI 3(45): í™”ë©´ ì¼ë¶€ ìˆ˜ì •, ì „ì²´ êµ¬ì¡°Â·í•µì‹¬ í”Œë¡œìš° ì„¤ê³„ ì—†ìŒ â†’ í•˜
- KPI 4(45): ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜í–ˆë‹¤ëŠ” ìˆ˜ì¤€, ì •ì±…Â·ê·œì¹™Â·ìš”êµ¬ì‚¬í•­ ë¬¸ì„œí™” ì¦ê±° ì—†ìŒ â†’ í•˜
- KPI 5(45): ë¹ ë¥´ê²Œ ì ìš© í›„ ë°˜ì‘ì„ ë³´ëŠ” ë°©ì‹, A/B, ì§€í‘œ ë¹„êµ, ê°€ì„¤ ê²€ì¦ ì—†ìŒ â†’ í•˜
- KPI 6(45): ì—¬ëŸ¬ ì•„ì´ë””ì–´ë¥¼ ë™ì‹œì— ê²€í† , ìŠ¤ì½”í”„Â·ë¦¬ì†ŒìŠ¤ íŒë‹¨ ê·¼ê±° ì—†ìŒ â†’ í•˜
- KPI 7(65): ì•„ì´ë””ì–´ ì œì•ˆ â†’ í™”ë©´ ìˆ˜ì • â†’ ë°˜ë³µ ê°œì„ , ë‹´ë‹¹ ì˜ì—­ì— ëŒ€í•œ ì‹¤í–‰ì€ ì¡´ì¬ â†’ ë³´í†µ ì¤‘
- KPI 8(65): ê°œë°œÂ·ë””ìì¸ê³¼ í˜‘ì—…, ë³€ê²½ ì‚¬í•­ ê³µìœ  ë° ë°˜ì˜, ê°ˆë“± ì¡°ìœ¨Â·ì˜ì‚¬ê²°ì • êµ¬ì¡°í™”ëŠ” ì•„ë‹˜ â†’ ë³´í†µ ì¤‘
- KPI 9(45): AI, í”„ë¡¬í”„íŠ¸, ìë™í™” ê¸°íš ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(65): ì‚¬ìš©ì ë°˜ì‘Â·í”¼ë“œë°± ì°¸ê³ , ì •ì„±ì  ìˆ˜ì¤€ì˜ ê³µê° â†’ ë³´í†µ ì¤‘
"""


def evaluate_resume_kpis(resume_text: str) -> Dict[int, Dict[str, any]]:
    """
    ì´ë ¥ì„œ í…ìŠ¤íŠ¸ë¥¼ LLMì´ ì§ì ‘ í‰ê°€í•˜ì—¬ PM KPIë³„ ì ìˆ˜ ì‚°ì¶œ.
    
    Few-shot Learning ë°©ì‹ìœ¼ë¡œ ì˜ˆì‹œë¥¼ ì œê³µí•˜ê³ ,
    LLMì´ ë™ì¼í•œ ê¸°ì¤€ìœ¼ë¡œ ìƒˆ ì´ë ¥ì„œë¥¼ í‰ê°€.
    
    Args:
        resume_text: ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸
    
    Returns:
        {kpi_id: {"score": ì ìˆ˜, "basis": ê·¼ê±°ìˆ˜ì¤€}}
        - score: 40~90 ë²”ìœ„ì˜ ì •ìˆ˜
        - basis: "explicit" | "inferred" | "none"
    """
    client = OpenAI(api_key=settings.OPENAI_API_KEY)
    
    system_prompt = f"""ë„ˆëŠ” PM(Product Manager) ì—­ëŸ‰ í‰ê°€ ì „ë¬¸ê°€ë‹¤.
ì£¼ì–´ì§„ ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸ë¥¼ ì½ê³ , 10ê°œ KPIì— ëŒ€í•´ ì ìˆ˜ë¥¼ ë§¤ê¸´ë‹¤.

{KPI_DEFINITIONS}

{FEW_SHOT_EXAMPLES}

## ì¶œë ¥ í˜•ì‹
ë°˜ë“œì‹œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´. ê° KPIì— ëŒ€í•´ ì ìˆ˜(score), ê·¼ê±° ìˆ˜ì¤€(basis), í•´ë‹¹ ì ìˆ˜ë¥¼ ì¤€ **í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)**ì„ í•¨ê»˜ ì¶œë ¥.

```json
{{
  "1": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•´ë‹¹ KPIì— ëŒ€í•´ ì´ ì ìˆ˜ë¥¼ ì¤€ í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  "2": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  ...
  "10": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}}
}}
```
{REASON_FORMAT_RULES}

## ê·¼ê±° ìˆ˜ì¤€(basis) íŒë‹¨ ê¸°ì¤€
- **"explicit"**: í…ìŠ¤íŠ¸ì— í•´ë‹¹ KPI ê´€ë ¨ **êµ¬ì²´ì  ê²½í—˜/ì—…ë¬´/ì„±ê³¼ê°€ ëª…ì‹œ**ë˜ì–´ ìˆìŒ
- **"inferred"**: ì§ì ‘ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ **ë§¥ë½ìƒ ì¶”ë¡  ê°€ëŠ¥** (ì˜ˆ: ì§€í‘œ ë¶„ì„ â†’ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì¶”ë¡ )
- **"none"**: í•´ë‹¹ KPI ê´€ë ¨ **ì–¸ê¸‰ì´ ì „í˜€ ì—†ìŒ** â†’ ì ìˆ˜ëŠ” 40~50 ë²”ìœ„

## ì ìˆ˜ ë¶€ì—¬ ê·œì¹™ (ì¤‘ìš”!)
- ìƒ ìˆ˜ì¤€: 75~90 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ìƒ=88, ë³´í†µ ìƒ=82, ì•½í•œ ìƒ=76)
- ì¤‘ ìˆ˜ì¤€: 55~70 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ì¤‘=68, ë³´í†µ ì¤‘=62, ì•½í•œ ì¤‘=56)
- í•˜ ìˆ˜ì¤€: 40~50 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ì•½ê°„ ì–¸ê¸‰=48, ê±°ì˜ ì—†ìŒ=44, ì „ë¬´=40)

âš ï¸ ì ˆëŒ€ 45, 65, 85ë¡œ ë”± ë–¨ì–´ì§€ê²Œ ì ìˆ˜ë¥¼ ë§¤ê¸°ì§€ ë§ˆë¼. ë°˜ë“œì‹œ ë²”ìœ„ ë‚´ì—ì„œ ì„¸ë°€í•˜ê²Œ ì°¨ë“±ì„ ë‘ì–´ë¼.
"""

    user_prompt = f"""ë‹¤ìŒ ì´ë ¥ì„œë¥¼ í‰ê°€í•´ì¤˜:

{resume_text}

JSON í˜•ì‹ìœ¼ë¡œ 10ê°œ KPIì˜ ì ìˆ˜(score), ê·¼ê±°ìˆ˜ì¤€(basis), í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)ì„ ì¶œë ¥í•´."""

    try:
        response = client.chat.completions.create(
            model="gpt-4o-mini",
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_prompt}
            ],
            temperature=0.0,  # ì¼ê´€ì„± ìµœëŒ€í™”
            response_format={"type": "json_object"}
        )
        
        result = response.choices[0].message.content
        scores = json.loads(result)
        
        parsed_scores = {}
        for kpi_id, data in scores.items():
            if isinstance(data, dict):
                score = max(40, min(90, int(data.get("score", 45))))
                basis = data.get("basis", "explicit")
                if basis not in ("explicit", "inferred", "none"):
                    basis = "explicit"
                reason = (data.get("reason") or "").strip() or None
            else:
                score = max(40, min(90, int(data)))
                basis = "explicit"
                reason = None
            parsed_scores[int(kpi_id)] = {"score": score, "basis": basis, "reason": reason}
        return parsed_scores
    
    except Exception as e:
        print(f"LLM í‰ê°€ ì˜¤ë¥˜: {e}")
        return {i: {"score": 45, "basis": "none", "reason": None} for i in range(1, 11)}
