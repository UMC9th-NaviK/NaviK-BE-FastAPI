"""
LLM ê¸°ë°˜ ë””ìì´ë„ˆ(Designer) KPI ì§ì ‘ í‰ê°€ ëª¨ë“ˆ.

Few-shot Learningì„ í™œìš©í•˜ì—¬ ì´ë ¥ì„œ í…ìŠ¤íŠ¸ì—ì„œ 
ë””ìì´ë„ˆ KPI 10ê°œì— ëŒ€í•œ ì ìˆ˜ë¥¼ ì§ì ‘ ì‚°ì¶œ.
"""
from typing import Dict
from openai import OpenAI
import json

from app.core.config import settings
from app.ai.prompts import REASON_FORMAT_RULES


# KPI ì •ì˜ ë° í‰ê°€ ê¸°ì¤€
KPI_DEFINITIONS = """
## ë””ìì´ë„ˆ KPI 10ê°œ ë° í‰ê°€ ê¸°ì¤€

ì•„ë˜ ì˜ˆì‹œëŠ” **"ê¸°ì¤€í‘œ"** ì—­í• ì„ í•¨ â†’ ì§€ì›ì ê²½í—˜ì´ **ì´ ì¤‘ ì–´ë””ì™€ ê°€ì¥ ë¹„ìŠ·í•œì§€ë§Œ íŒë‹¨**

---

## ê³µí†µ ì›ì¹™ (ì¤‘ìš”)

- ëª¨ë“  ì˜ˆì‹œëŠ” **ì´ë ¥ì„œ ë¬¸ë‹¨ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°€ë„ ìì—°ìŠ¤ëŸ¬ìš´ ì„œìˆ **
- **ë„êµ¬ ì´ë¦„ë³´ë‹¤ íŒë‹¨/í–‰ë™/ê²°ê³¼ ì¤‘ì‹¬**
- êµ¬ì¡°: **ìƒí™© â†’ í–‰ë™ â†’ ê²°ê³¼**
- ê²°ê³¼Â·ê·¼ê±° ì—†ëŠ” ê°ìƒ âŒ
- "ì˜ˆì˜ë‹¤" âŒ â†’ **ë¬¸ì œÂ·êµ¬ì¡°Â·ì˜ë„Â·í™•ì¥ì„±** â­•
- ì‚°ì¶œë¬¼ ë‚˜ì—´ë§Œ ìˆìœ¼ë©´ **ìƒ ë¶ˆê°€**
- "í•™ìŠµ/ê²½í—˜"ë§Œ ìˆìœ¼ë©´ **í•˜**
- "ìš´ì˜ ì¤‘ ë¬¸ì œ â†’ êµ¬ì¡°/ì „ëµ ë³€ê²½"ì´ ìˆìœ¼ë©´ **ìƒ**

## ì ìˆ˜ ë²”ìœ„
- **ìƒ**: 75~90ì  (ê°•í•œ ìƒ=88~90, ë³´í†µ ìƒ=80~87, ì•½í•œ ìƒ=75~79)
- **ì¤‘**: 55~70ì  (ê°•í•œ ì¤‘=67~70, ë³´í†µ ì¤‘=60~66, ì•½í•œ ì¤‘=55~59)
- **í•˜**: 40~50ì  (ì–¸ê¸‰ ìˆìŒ=48~50, ì•½ê°„ ì–¸ê¸‰=44~47, ì „í˜€ ì—†ìŒ=40~43)

## í‰ê°€ ì›ì¹™
- ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰ë˜ì§€ ì•Šì€ KPIëŠ” "í•˜(40~45)" ì²˜ë¦¬
- ë„êµ¬/ê¸°ìˆ  ì´ë¦„ë§Œ ë‚˜ì—´í•˜ë©´ "ì¤‘(55~65)" ìƒí•œ
- "ë¬¸ì œâ†’íŒë‹¨â†’í•´ê²°â†’ê²°ê³¼" íë¦„ì´ ìˆìœ¼ë©´ "ìƒ(80~90)" ê°€ëŠ¥
- í•™ìŠµ/ê²½í—˜ë§Œ ì–¸ê¸‰í•˜ë©´ "í•˜(45~50)"
- ì‚°ì¶œë¬¼ ë‚˜ì—´ë§Œ ìˆìœ¼ë©´ "ìƒ ë¶ˆê°€"
- ê°™ì€ ë ˆë²¨ ë‚´ì—ì„œë„ ê·¼ê±°ì˜ ê°•ë„ì— ë”°ë¼ ì„¸ë¶€ ì ìˆ˜ ì°¨ë“±

---

## KPIë³„ ìƒì„¸ ì˜ˆì‹œ

## 1ï¸âƒ£ UX ì „ëµ (ë¬¸ì œ ì¬ì •ì˜ & í•´ê²° êµ¬ì¡°)

### ğŸ”¼ ìƒ
ì£¼ì–´ì§„ ìš”êµ¬ì‚¬í•­ì„ ê·¸ëŒ€ë¡œ ë°˜ì˜í•˜ì§€ ì•Šê³ , ì‚¬ìš©ì í–‰ë™ê³¼ ë§¥ë½ì„ ë¶„ì„í•´ í•µì‹¬ ë¬¸ì œë¥¼ ì¬ì •ì˜í–ˆìŠµë‹ˆë‹¤. ë””ìì¸ì´ í•´ê²°í•´ì•¼ í•  ê²½í—˜ ê³¼ì œë¥¼ ëª…í™•íˆ ì„¤ì •í•˜ê³ , ì´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì „ì²´ ì„¤ê³„ ë°©í–¥ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì‚¬ìš©ì ë¶ˆí¸ ì‚¬í•­ì„ ì •ë¦¬í•´ ë””ìì¸ ê°œì„  ë°©í–¥ì„ ë„ì¶œí–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ìš”ì²­ëœ í™”ë©´ì„ ê·¸ëŒ€ë¡œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 2ï¸âƒ£ ì •ë³´ êµ¬ì¡° & ì‚¬ìš©ì í”Œë¡œìš° ìµœì í™”

### ğŸ”¼ ìƒ
ì •ë³´ì™€ ê¸°ëŠ¥ì„ ì¬êµ¬ì„±í•´ ì‚¬ìš©ìê°€ ëª©í‘œì— ë„ë‹¬í•˜ëŠ” íë¦„ì„ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤. í”Œë¡œìš° ê°œì„ ì„ í†µí•´ ì‚¬ìš©ìê°€ ë§‰íˆëŠ” êµ¬ê°„ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ê¸°ì¡´ ì •ë³´ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í™”ë©´ íë¦„ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
í™”ë©´ ëª©ë¡ì„ ë‚˜ì—´í•´ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 3ï¸âƒ£ UI ì‹œê° ë””ìì¸Â·ë¹„ì£¼ì–¼ ì™„ì„±ë„

### ğŸ”¼ ìƒ
íƒ€ì´í¬, ì»¬ëŸ¬, ë ˆì´ì•„ì›ƒì„ í†µí•´ ì‹œê°ì  ìš°ì„ ìˆœìœ„ë¥¼ ëª…í™•íˆ ì„¤ê³„í•˜ê³ , í•œëˆˆì— ì´í•´ë˜ëŠ” í™”ë©´ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë””ìì¸ ê°€ì´ë“œë¥¼ ì°¸ê³ í•´ í™”ë©´ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ìœ„ì£¼ë¡œ í™”ë©´ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

---

## 4ï¸âƒ£ í”„ë¡œí† íƒ€ì´í•‘ & ì¸í„°ë™ì…˜ êµ¬í˜„

### ğŸ”¼ ìƒ
ì‹¤ì œ ì‚¬ìš© ë§¥ë½ì„ ë°˜ì˜í•œ ì¸í„°ë™ì…˜ì„ ì„¤ê³„í•˜ê³ , í”„ë¡œí† íƒ€ì…ì„ í†µí•´ ë””ìì¸ ì˜ë„ë¥¼ ê²€ì¦í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ê¸°ë³¸ì ì¸ ì¸í„°ë™ì…˜ì„ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì •ì ì¸ í™”ë©´ë§Œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 5ï¸âƒ£ ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•Â·ìš´ì˜

### ğŸ”¼ ìƒ
ì»´í¬ë„ŒíŠ¸ì™€ ê°€ì´ë“œë¼ì¸ì„ ì²´ê³„í™”í•´ ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , í™•ì¥ê³¼ ì¼ê´€ì„±ì„ ë™ì‹œì— ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ê¸°ì¡´ ë””ìì¸ ì‹œìŠ¤í…œì„ í™œìš©í•´ ì‘ì—…í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
í™”ë©´ ë‹¨ìœ„ë¡œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 6ï¸âƒ£ ë°ì´í„° ê¸°ë°˜ UX ê°œì„ 

### ğŸ”¼ ìƒ
ì‚¬ìš©ì ì§€í‘œì™€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë¶„ì„í•´ UX ë¬¸ì œë¥¼ ì •ì˜í•˜ê³ , ë””ìì¸ ê°œì„ ìœ¼ë¡œ ì—°ê²°í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì‚¬ìš©ì í”¼ë“œë°±ì„ ì°¸ê³ í•´ ë””ìì¸ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ê°œì¸ íŒë‹¨ì´ë‚˜ ê°ìœ¼ë¡œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 7ï¸âƒ£ AI ë””ìì¸ í™œìš© ëŠ¥ë ¥

### ğŸ”¼ ìƒ
AI ë„êµ¬ë¥¼ í™œìš©í•´ ë””ìì¸ íƒìƒ‰ê³¼ ì œì‘ ê³¼ì •ì„ íš¨ìœ¨í™”í•˜ê³ , ê²°ê³¼ë¥¼ ë¹„íŒì ìœ¼ë¡œ ì„ ë³„Â·ë³´ì™„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
AI ë„êµ¬ë¥¼ ì°¸ê³ í•´ ë””ìì¸ ì•„ì´ë””ì–´ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
AI ë””ìì¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ì—†ìŠµë‹ˆë‹¤.

---

## 8ï¸âƒ£ ë©€í‹° í”Œë«í¼(OSÂ·WebÂ·App) ì´í•´

### ğŸ”¼ ìƒ
í”Œë«í¼ë³„ íŒ¨í„´ê³¼ ì œì•½ì„ ê³ ë ¤í•´ ê°ê°ì— ë§ëŠ” ì‚¬ìš©ì ê²½í—˜ì„ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
í”Œë«í¼ ê°€ì´ë“œë¥¼ ì°¸ê³ í•´ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ë‹¨ì¼ í™˜ê²½ ê¸°ì¤€ìœ¼ë¡œë§Œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.

---

## 9ï¸âƒ£ í˜‘ì—…Â·ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ëŠ¥ë ¥

### ğŸ”¼ ìƒ
ë””ìì¸ ì˜ë„ì™€ ê²°ì •ì„ ëª…í™•í•œ ì–¸ì–´ë¡œ ì •ë¦¬í•´ PMÂ·ê°œë°œê³¼ ê³µìœ í•˜ê³ , êµ¬í˜„ ê³¼ì •ì—ì„œ ë°œìƒí•œ ì´ìŠˆë¥¼ ì¡°ìœ¨í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë””ìì¸ ê²°ê³¼ë¬¼ì„ ì „ë‹¬í•˜ê³  í”¼ë“œë°±ì„ ë°˜ì˜í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ê²°ê³¼ë¬¼ë§Œ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”Ÿ BX/BI ë¸Œëœë“œ ê²½í—˜ ì„¤ê³„

### ğŸ”¼ ìƒ
ë¸Œëœë“œ í†¤ê³¼ ë©”ì‹œì§€ë¥¼ UX ì „ë°˜ì— ë…¹ì—¬ ì¼ê´€ëœ ê²½í—˜ì„ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë¸Œëœë“œ ê°€ì´ë“œë¥¼ í™”ë©´ì— ì ìš©í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ê°œë³„ í™”ë©´ ì¤‘ì‹¬ìœ¼ë¡œ ë””ìì¸í–ˆìŠµë‹ˆë‹¤.
"""


# Few-shot ì˜ˆì‹œ
FEW_SHOT_EXAMPLES = """
## í‰ê°€ ì˜ˆì‹œ

### ì˜ˆì‹œ A (UX ì „ëµÂ·ë°ì´í„° ê¸°ë°˜ ë””ìì´ë„ˆ)
ì…ë ¥:
"ëª¨ë°”ì¼ ê¸°ë°˜ ì„œë¹„ìŠ¤ì˜ ì´ìš©ë¥ ì´ ë‚®ê³  íŠ¹ì • ë‹¨ê³„ì—ì„œ ì‚¬ìš©ìê°€ ì´íƒˆí•˜ëŠ” ë¬¸ì œê°€ ë°˜ë³µë˜ì–´, UX ê´€ì ì—ì„œ ê²½í—˜ êµ¬ì¡°ë¥¼ ì¬ì„¤ê³„í•˜ëŠ” ì—­í• ì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ë‹¨ìˆœíˆ í™”ë©´ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì‚¬ìš©ìê°€ ì–´ë–¤ íë¦„ì—ì„œ ë§ì„¤ì´ê³  í¬ê¸°í•˜ëŠ”ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë¬¸ì œë¥¼ ì¬ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸° ìœ ì…ë¶€í„° ì£¼ìš” í–‰ë™ê¹Œì§€ì˜ ì—¬ì •ì„ ì •ë¦¬í•˜ê³ , ì´íƒˆì´ ì§‘ì¤‘ë˜ëŠ” ì§€ì ì„ UX ì´ìŠˆë¡œ êµ¬ì¡°í™”í•´ ìš°ì„ ìˆœìœ„ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ë³´ êµ¬ì¡°ì™€ í”Œë¡œìš°ë¥¼ ì¬êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ê¸°ëŠ¥ì„ ë‚˜ì—´í•˜ë˜ ê¸°ì¡´ êµ¬ì¡°ë¥¼ ì‚¬ìš©ì ëª©ì  ì¤‘ì‹¬ìœ¼ë¡œ ì¬ë°°ì¹˜í•˜ê³ , í•µì‹¬ í–‰ë™ê¹Œì§€ ë„ë‹¬í•˜ëŠ” ë‹¨ê³„ë¥¼ ì¤„ì´ë„ë¡ í™”ë©´ íë¦„ì„ ë‹¨ìˆœí™”í–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì™€ì´ì–´í”„ë ˆì„ê³¼ ì¸í„°ë™ì…˜ í”„ë¡œí† íƒ€ì…ì„ ì œì‘í•´, ì‹¤ì œ ì‚¬ìš© ì‹œ ì–´ë–¤ ê²½ë¡œë¡œ ì´ë™í•˜ëŠ”ì§€ê°€ ëª…í™•íˆ ë³´ì´ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ë””ìì¸ ì‹œê° ìš”ì†Œ ë˜í•œ íë¦„ì— ë§ê²Œ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì‹œì„  ì´ë™ê³¼ ì •ë³´ ìœ„ê³„ë¥¼ ê³ ë ¤í•´ ë ˆì´ì•„ì›ƒê³¼ íƒ€ì´í¬, ìƒ‰ìƒ ëŒ€ë¹„ë¥¼ ì¡°ì •í–ˆê³ , ì¤‘ìš”í•œ í–‰ë™ ìš”ì†Œê°€ ìì—°ìŠ¤ëŸ½ê²Œ ê°•ì¡°ë˜ë„ë¡ ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´í›„ ì‚¬ìš© ë¡œê·¸ì™€ ê°„ë‹¨í•œ ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì°¸ê³ í•´ íŠ¹ì • í™”ë©´ì—ì„œì˜ ì²´ë¥˜ ì‹œê°„ê³¼ ì´íƒˆë¥  ë³€í™”ë¥¼ í™•ì¸í•˜ë©° ë””ìì¸ì„ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ë‹¨ìˆœíˆ ë³´ê¸° ì¢‹ì€ í™”ë©´ì´ ì•„ë‹ˆë¼, ì‚¬ìš©ìì˜ í–‰ë™ê³¼ ë°ì´í„°ë¡œ ê²€ì¦ë˜ëŠ” ê²½í—˜ì„ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ë””ìì´ë„ˆì˜ ì—­í• ì„ì„ ì²´ê°í–ˆìŠµë‹ˆë‹¤. UX ì „ëµ, êµ¬ì¡° ì„¤ê³„, ì‹œê° ë””ìì¸, ê²€ì¦ì„ í•˜ë‚˜ì˜ íë¦„ìœ¼ë¡œ ì—°ê²°í•´ ì„œë¹„ìŠ¤ì˜ ì‹¤ì œ ì‚¬ìš©ì„±ì„ ê°œì„ í•˜ëŠ” ë””ìì¸ì„ ì¶”êµ¬í•˜ê³  ìˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 85, "2": 85, "3": 85, "4": 85, "5": 45, "6": 85, "7": 45, "8": 45, "9": 65, "10": 45}

ê·¼ê±°:
- KPI 1(85): "ë‹¨ìˆœíˆ í™”ë©´ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì‚¬ìš©ìê°€ ì–´ë–¤ íë¦„ì—ì„œ ë§ì„¤ì´ê³  í¬ê¸°í•˜ëŠ”ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë¬¸ì œë¥¼ ì¬ì •ì˜", ì´íƒˆ êµ¬ê°„ì„ UX ì´ìŠˆë¡œ êµ¬ì¡°í™”í•˜ê³  ìš°ì„ ìˆœìœ„ ì„¤ì • â†’ ìš”êµ¬ë¥¼ ì¬ì •ì˜ + ê²½í—˜ ê³¼ì œë¥¼ ëª…í™•íˆ ì„¤ì • â†’ êµê³¼ì„œì ì¸ ìƒ
- KPI 2(85): "ê¸°ëŠ¥ì„ ë‚˜ì—´í•˜ë˜ ê¸°ì¡´ êµ¬ì¡°ë¥¼ ì‚¬ìš©ì ëª©ì  ì¤‘ì‹¬ìœ¼ë¡œ ì¬ë°°ì¹˜", "í•µì‹¬ í–‰ë™ê¹Œì§€ ë„ë‹¬í•˜ëŠ” ë‹¨ê³„ë¥¼ ì¤„ì´ë„ë¡ í™”ë©´ íë¦„ì„ ë‹¨ìˆœí™”" â†’ í”Œë¡œìš° ì¬ì„¤ê³„ + ë³‘ëª© ì œê±° â†’ ê°•í•œ ìƒ
- KPI 3(85): "ì‹œì„  ì´ë™ê³¼ ì •ë³´ ìœ„ê³„ë¥¼ ê³ ë ¤í•´ ë ˆì´ì•„ì›ƒê³¼ íƒ€ì´í¬, ìƒ‰ìƒ ëŒ€ë¹„ ì¡°ì •", "ì¤‘ìš”í•œ í–‰ë™ ìš”ì†Œê°€ ìì—°ìŠ¤ëŸ½ê²Œ ê°•ì¡°ë˜ë„ë¡ ì»´í¬ë„ŒíŠ¸ ì •ë¦¬" â†’ ë‹¨ìˆœ ì ìš©ì´ ì•„ë‹ˆë¼ ìš°ì„ ìˆœìœ„Â·ì¸ì§€ ì„¤ê³„ â†’ ê°•í•œ ìƒ
- KPI 4(85): "ì™€ì´ì–´í”„ë ˆì„ê³¼ ì¸í„°ë™ì…˜ í”„ë¡œí† íƒ€ì…ì„ ì œì‘", "ì‹¤ì œ ì‚¬ìš© ì‹œ ì–´ë–¤ ê²½ë¡œë¡œ ì´ë™í•˜ëŠ”ì§€ê°€ ëª…í™•íˆ ë³´ì´ë„ë¡ ì„¤ê³„" â†’ ê²€ì¦ ëª©ì ì˜ í”„ë¡œí† íƒ€ì… â†’ ê°•í•œ ìƒ
- KPI 5(45): ì»´í¬ë„ŒíŠ¸, ê°€ì´ë“œë¼ì¸, ì‹œìŠ¤í…œ ìš´ì˜ ì–¸ê¸‰ ì—†ìŒ, êµ¬ì¡° ì„¤ê³„ëŠ” ìˆì§€ë§Œ ì‹œìŠ¤í…œí™”ëŠ” ì—†ìŒ â†’ í•˜
- KPI 6(85): "ì‚¬ìš© ë¡œê·¸ì™€ ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì°¸ê³ ", "ì²´ë¥˜ ì‹œê°„ê³¼ ì´íƒˆë¥  ë³€í™”ë¥¼ í™•ì¸í•˜ë©° ë°˜ë³µ ìˆ˜ì •" â†’ ì§€í‘œ â†’ ë””ìì¸ â†’ ì¬ê²€ì¦ ë£¨í”„ ì¡´ì¬ â†’ ê°•í•œ ìƒ
- KPI 7(45): AI ë„êµ¬, í”„ë¡¬í”„íŠ¸, ìƒì„± í™œìš© ì „í˜€ ì—†ìŒ â†’ í•˜
- KPI 8(45): ëª¨ë°”ì¼ ì–¸ê¸‰ì€ ìˆìœ¼ë‚˜ OS íŒ¨í„´Â·í”Œë«í¼ ì œì•½ ê³ ë ¤ ì—†ìŒ â†’ í•˜
- KPI 9(65): íŒ€ í˜‘ì—…Â·ì¡°ìœ¨ ëª…ì‹œì  ì–¸ê¸‰ì€ ì—†ìŒ, ê·¸ëŸ¬ë‚˜ UX ì´ìŠˆ êµ¬ì¡°í™”Â·ìš°ì„ ìˆœìœ„ ì„¤ì • â†’ ê°„ì ‘ì  í˜‘ì—… ì‹ í˜¸ â†’ ë³´í†µ ì¤‘
- KPI 10(45): ë¸Œëœë“œ, í†¤, ë©”ì‹œì§€, ë¬´ë“œ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜

### ì˜ˆì‹œ B (ì‹¤ë¬´í˜•Â·UI ì‹œìŠ¤í…œ ì¤‘ì‹¬ ë””ìì´ë„ˆ)
ì…ë ¥:
"ì›¹ ê¸°ë°˜ ì„œë¹„ìŠ¤ ë¦¬ë‰´ì–¼ í”„ë¡œì íŠ¸ì—ì„œ í™”ë©´ ì„¤ê³„ì™€ UI ë””ìì¸ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ í™”ë©´ì€ ê¸°ëŠ¥ì´ ê³„ì† ì¶”ê°€ë˜ë©° ë ˆì´ì•„ì›ƒê³¼ ì»´í¬ë„ŒíŠ¸ê°€ ì œê°ê°ì´ì—ˆê³ , ê°™ì€ ì—­í• ì˜ ë²„íŠ¼ì´ë‚˜ ì…ë ¥ ìš”ì†Œë„ í™”ë©´ë§ˆë‹¤ í˜•íƒœì™€ ë™ì‘ì´ ë‹¬ë¼ ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¨¼ì € ì „ì²´ í™”ë©´ì„ ê¸°ì¤€ìœ¼ë¡œ ê³µí†µ ìš”ì†Œë¥¼ ì •ë¦¬í•˜ê³ , ë²„íŠ¼, ì…ë ¥ì°½, ì¹´ë“œ, ëª¨ë‹¬ ë“±ì˜ UI íŒ¨í„´ì„ í•˜ë‚˜ì˜ ê·œì¹™ìœ¼ë¡œ í†µí•©í–ˆìŠµë‹ˆë‹¤. ê° í™”ë©´ì˜ ì •ë³´ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ì •ë¦¬í•´ ë¶ˆí•„ìš”í•˜ê²Œ ì¤‘ë³µë˜ëŠ” ìš”ì†Œë¥¼ ì œê±°í•˜ê³ , ì‚¬ìš©ìê°€ í•œ í™”ë©´ì—ì„œ ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•íˆ ë³´ì´ë„ë¡ ë ˆì´ì•„ì›ƒì„ ì¬êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ê°œë°œíŒ€ê³¼ í•¨ê»˜ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë””ìì¸ì„ ì •ë¦¬í•´ ì „ë‹¬í–ˆê³ , ì´í›„ í™”ë©´ ì¶”ê°€ë‚˜ ìˆ˜ì • ì‹œì—ë„ ë™ì¼í•œ ê·œì¹™ì„ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ë””ìì¸ ì‹œìŠ¤í…œ í˜•íƒœë¡œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. Figmaë¥¼ í™œìš©í•´ ì£¼ìš” í™”ë©´ê³¼ ìƒíƒœë³„ UIë¥¼ êµ¬ì„±í•˜ê³ , ì¸í„°ë™ì…˜ í”„ë¡œí† íƒ€ì…ì„ ì œì‘í•´ í™”ë©´ ì „í™˜ê³¼ ë™ì‘ íë¦„ì„ ë¯¸ë¦¬ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œ ì „ì— UIì™€ ì¸í„°ë™ì…˜ì— ëŒ€í•œ í•©ì˜ë¥¼ ë§ì¶”ê³ , êµ¬í˜„ ê³¼ì •ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” í•´ì„ ì°¨ì´ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì í–‰ë™ ë°ì´í„°ë‚˜ ì‹¤í—˜ì„ ì§ì ‘ ì„¤ê³„í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ì„œë¹„ìŠ¤ ìš´ì˜ ì¤‘ ìˆ˜ì§‘ëœ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ì‹œê°ì  ìœ„ê³„ì™€ ì¸í„°ë™ì…˜ì„ ì¡°ì •í•˜ë©° ì‚¬ìš©ì„±ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ì €ëŠ” ë””ìì¸ì„ ì¼íšŒì„± ì‚°ì¶œë¬¼ì´ ì•„ë‹ˆë¼, ì¼ê´€ëœ ê·œì¹™ê³¼ ì‹œìŠ¤í…œìœ¼ë¡œ ìš´ì˜í•˜ëŠ” ê²ƒì´ ì„œë¹„ìŠ¤ í™•ì¥ì„±ê³¼ í˜‘ì—…ì— ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë°°ìš°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 65, "2": 65, "3": 85, "4": 65, "5": 85, "6": 65, "7": 45, "8": 45, "9": 85, "10": 45}

ê·¼ê±°:
- KPI 1(65): "ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ëŠ” ë¬¸ì œ", "ê³µí†µ ìš”ì†Œë¥¼ ì •ë¦¬í•˜ê³  ê·œì¹™ í†µí•©" â†’ ë¬¸ì œëŠ” ì¸ì‹í–ˆì§€ë§Œ, ì‚¬ìš©ì í–‰ë™Â·ë§¥ë½ ê¸°ë°˜ ì¬ì •ì˜ëŠ” ì—†ìŒ â†’ ë³´í†µ ì¤‘
- KPI 2(65): "ì •ë³´ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ì •ë¦¬", "ì¤‘ë³µ ìš”ì†Œ ì œê±°" â†’ ê¸°ì¡´ êµ¬ì¡° ê°œì„ ì€ ìˆìœ¼ë‚˜, ëª©í‘œ íë¦„ ìµœì í™”Â·ì´íƒˆ ì œê±°ëŠ” ì—†ìŒ â†’ ë³´í†µ ì¤‘
- KPI 3(85): ë²„íŠ¼Â·ì…ë ¥Â·ì¹´ë“œÂ·ëª¨ë‹¬ì„ í•˜ë‚˜ì˜ ê·œì¹™ìœ¼ë¡œ í†µí•©, ì‹œê°ì  ìœ„ê³„Â·ì¼ê´€ì„±Â·ì»´í¬ë„ŒíŠ¸í™” â†’ ì „í˜•ì ì¸ ìƒìœ„ UI ë””ìì´ë„ˆ ì‹œê·¸ë„ â†’ ê°•í•œ ìƒ
- KPI 4(65): ì¸í„°ë™ì…˜ í”„ë¡œí† íƒ€ì… ì œì‘, íë¦„ í™•ì¸ ëª©ì  â†’ ê²€ì¦ ì‹¤í—˜ê¹Œì§€ëŠ” ì•„ë‹ˆë¯€ë¡œ â†’ ë³´í†µ ì¤‘
- KPI 5(85): "ë””ìì¸ ì‹œìŠ¤í…œ í˜•íƒœë¡œ ê´€ë¦¬", ì»´í¬ë„ŒíŠ¸ ê·œì¹™í™”, ì¬ì‚¬ìš©, í™•ì¥ ê³ ë ¤ â†’ ì‹œìŠ¤í…œí˜• ë””ìì´ë„ˆì˜ êµê³¼ì„œì  ìƒ â†’ ê°•í•œ ìƒ
- KPI 6(65): ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜, ì§€í‘œÂ·ë¡œê·¸Â·í…ŒìŠ¤íŠ¸ëŠ” ì—†ìŒ â†’ ì •ì„± ê¸°ë°˜ ê°œì„  â†’ ë³´í†µ ì¤‘
- KPI 7(45): AI ë„êµ¬, ìë™í™”, í”„ë¡¬í”„íŠ¸ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 8(45): ë°˜ì‘í˜•, OS íŒ¨í„´, ë©€í‹° ë””ë°”ì´ìŠ¤ ê³ ë ¤ ì—†ìŒ â†’ í•˜
- KPI 9(85): ê°œë°œíŒ€ê³¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ í˜‘ì—…, í•´ì„ ì°¨ì´ ì œê±° ëª©ì , ë””ìì¸ ì „ë‹¬ êµ¬ì¡°í™” â†’ ë””ìì´ë„ˆ í˜‘ì—… KPIì—ì„œ ìƒ â†’ ê°•í•œ ìƒ
- KPI 10(45): ë¸Œëœë“œ, í†¤, ë¬´ë“œ, ì •ì²´ì„± ì–¸ê¸‰ ì—†ìŒ â†’ í•˜

### ì˜ˆì‹œ C (ì¸í„°ë™ì…˜Â·í”„ë¡œí† íƒ€ì´í•‘ ì¤‘ì‹¬ ë””ìì´ë„ˆ)
ì…ë ¥:
"ì‹ ê·œ ê¸°ëŠ¥ ë„ì… í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ì íë¦„ê³¼ ì¸í„°ë™ì…˜ ì„¤ê³„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë””ìì¸ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ì„œë¹„ìŠ¤ëŠ” ê¸°ëŠ¥ ìì²´ëŠ” ì¶©ë¶„í–ˆì§€ë§Œ, í™”ë©´ ì „í™˜ê³¼ ì…ë ¥ ê³¼ì •ì´ ë³µì¡í•´ ì‚¬ìš©ìê°€ ì–´ë””ì—ì„œ ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€ í˜¼ë€ìŠ¤ëŸ¬ì›Œí•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¨ìˆœíˆ í™”ë©´ì„ ë‚˜ì—´í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹ˆë¼, ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì–´ë–¤ ìˆœì„œë¡œ í–‰ë™í•˜ëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”Œë¡œìš°ë¥¼ ë‹¤ì‹œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ì— ëŒ€í•´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‘ì„±í•˜ê³ , ê° ë‹¨ê³„ì—ì„œ ì‚¬ìš©ìê°€ ë³´ê²Œ ë˜ëŠ” í™”ë©´ê³¼ ì„ íƒì§€ë¥¼ ì—°ê²°í•´ ì „ì²´ íë¦„ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ í”Œë¡œìš°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Figmaì—ì„œ ì¸í„°ë™ì…˜ì´ í¬í•¨ëœ í”„ë¡œí† íƒ€ì…ì„ ì œì‘í•´, í´ë¦­Â·ì „í™˜Â·ì˜¤ë¥˜ ìƒí™©ê¹Œì§€ ì‹¤ì œ ì‚¬ìš©ê³¼ ìœ ì‚¬í•˜ê²Œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ íŒ€ì´ ê¸°ëŠ¥ ë™ì‘ì„ ì½”ë“œ ì—†ì´ë„ ì§ì ‘ ì²´í—˜í•  ìˆ˜ ìˆê²Œ í–ˆê³ , ê°œë°œ ì°©ìˆ˜ ì „ì— ë¶ˆí•„ìš”í•œ ë‹¨ê³„ì™€ í˜¼ë€ì„ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í”„ë¡œí† íƒ€ì… í…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ ì‚¬ìš©ìê°€ íŠ¹ì • ë‹¨ê³„ì—ì„œ ë¨¸ë­‡ê±°ë¦¬ê±°ë‚˜ ì˜ëª»ëœ ì„ íƒì„ í•˜ëŠ” ëª¨ìŠµì„ ê´€ì°°í–ˆê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë²„íŠ¼ ìœ„ì¹˜ì™€ ì•ˆë‚´ ë¬¸êµ¬, í™”ë©´ ì „í™˜ ë°©ì‹ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ìˆ˜ì •ëœ íë¦„ì„ ë‹¤ì‹œ í”„ë¡œí† íƒ€ì…ì— ë°˜ì˜í•´ ë°˜ë³µì ìœ¼ë¡œ ê²€ì¦í•˜ë©° ì¸í„°ë™ì…˜ì„ ë‹¤ë“¬ì—ˆìŠµë‹ˆë‹¤. UI ìŠ¤íƒ€ì¼ê³¼ ë¹„ì£¼ì–¼ì€ ê¸°ì¡´ ê°€ì´ë“œë¥¼ ë”°ëì§€ë§Œ, ì‚¬ìš©ìê°€ ëŠë¼ëŠ” íë¦„ê³¼ ì¡°ì‘ ê°ê°ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë””ìì¸ì„ ê°œì„ í•œ ê²½í—˜ì„ í†µí•´, í™”ë©´ì˜ ëª¨ì–‘ë³´ë‹¤ ì¸í„°ë™ì…˜ê³¼ ì „í™˜ì´ ì‚¬ìš©ì ê²½í—˜ì— ë” í° ì˜í–¥ì„ ì¤€ë‹¤ëŠ” ì ì„ ì²´ê°í–ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 65, "2": 85, "3": 65, "4": 85, "5": 45, "6": 65, "7": 45, "8": 45, "9": 65, "10": 45}

ê·¼ê±°:
- KPI 1(65): "í™”ë©´ ì „í™˜ê³¼ ì…ë ¥ ê³¼ì •ì´ ë³µì¡í•´ ì‚¬ìš©ìê°€ í˜¼ë€", ì‚¬ìš©ì í–‰ë™ ìˆœì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”Œë¡œìš°ë¥¼ ì¬êµ¬ì„± â†’ ë¬¸ì œë¥¼ "ìš”ì²­ ë°˜ì˜"ì´ ì•„ë‹ˆë¼ ì‚¬ìš©ì í˜¼ë€(ê²½í—˜ ë¬¸ì œ)ë¡œ ì •ì˜í–ˆì§€ë§Œ, ì‚¬ìš©ì í–‰ë™/ë§¥ë½ ë¶„ì„ì„ í†µí•œ í•µì‹¬ ë¬¸ì œ ì¬ì •ì˜(ì „ëµ ë ˆë²¨)ê¹Œì§€ëŠ” ëª…ì‹œê°€ ì•½í•¨ â†’ ë³´í†µ ì¤‘
- KPI 2(85): "ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì–´ë–¤ ìˆœì„œë¡œ í–‰ë™í•˜ëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”Œë¡œìš°ë¥¼ ë‹¤ì‹œ êµ¬ì„±", "ë¶ˆí•„ìš”í•œ ë‹¨ê³„ì™€ í˜¼ë€ì„ ì¤„ì„" â†’ ëª©í‘œ ë„ë‹¬ íë¦„ì„ ë‹¨ìˆœí™”í•˜ê³  ë§‰íˆëŠ” êµ¬ê°„ì„ ì œê±° â†’ ê°•í•œ ìƒ
- KPI 3(65): "UI ìŠ¤íƒ€ì¼ê³¼ ë¹„ì£¼ì–¼ì€ ê¸°ì¡´ ê°€ì´ë“œë¥¼ ë”°ë¦„" â†’ ì§ì ‘ ìš°ì„ ìˆœìœ„/íƒ€ì´í¬/ì»¬ëŸ¬ ì„¤ê³„ë¡œ 'í•œëˆˆì— ì´í•´'ê¹Œì§€ ëŒê³  ê°„ ì„œìˆ ì€ ì—†ìŒ, í•˜ì§€ë§Œ í™”ë©´ ì™„ì„±ì€ í–ˆìœ¼ë¯€ë¡œ â†’ ë³´í†µ ì¤‘
- KPI 4(85): "ì¸í„°ë™ì…˜ í¬í•¨ í”„ë¡œí† íƒ€ì…", "í´ë¦­Â·ì „í™˜Â·ì˜¤ë¥˜ ìƒí™©ê¹Œì§€ ì‹¤ì œ ì‚¬ìš©ê³¼ ìœ ì‚¬í•˜ê²Œ êµ¬í˜„", "í”„ë¡œí† íƒ€ì… í…ŒìŠ¤íŠ¸ â†’ ê´€ì°° â†’ ìˆ˜ì • â†’ ë°˜ë³µ ê²€ì¦" â†’ ì˜ë„ ê²€ì¦ê¹Œì§€ í¬í•¨ëœ êµê³¼ì„œì ì¸ ìƒ â†’ ê°•í•œ ìƒ
- KPI 5(45): ì»´í¬ë„ŒíŠ¸/ê°€ì´ë“œë¼ì¸ ì²´ê³„í™”, ì‹œìŠ¤í…œ ìš´ì˜ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 6(65): "í”„ë¡œí† íƒ€ì… í…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ ê´€ì°°", ê°œì„  ë°˜ë³µì€ ìˆìœ¼ë‚˜ ì§€í‘œ/í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„(ì •ëŸ‰Â·A/B)ì€ ì—†ìŒ â†’ í…ŒìŠ¤íŠ¸/ê´€ì°° ê¸°ë°˜ ê°œì„  â†’ ë³´í†µ ì¤‘
- KPI 7(45): AI ë„êµ¬ í™œìš© ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 8(45): í”Œë«í¼ë³„ íŒ¨í„´/ì œì•½ ê³ ë ¤ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 9(65): "íŒ€ì´ ê¸°ëŠ¥ ë™ì‘ì„ ì½”ë“œ ì—†ì´ ì²´í—˜", ê°œë°œ ì°©ìˆ˜ ì „ í˜¼ë€ ì œê±° ëª©ì  â†’ í˜‘ì—… ì„íŒ©íŠ¸ëŠ” ìˆìœ¼ë‚˜, ì˜ì‚¬ê²°ì • ì–¸ì–´ë¡œ ì •ë¦¬/ì´ìŠˆ ì¡°ìœ¨ê¹Œì§€ ëª…ì‹œë˜ì§€ ì•Šì•„ â†’ ë³´í†µ ì¤‘
- KPI 10(45): ë¸Œëœë“œ í†¤/ë©”ì‹œì§€/ê²½í—˜ ì„¤ê³„ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜

### ì˜ˆì‹œ D (ì‹¤ë¬´ UI ë””ìì´ë„ˆÂ·í˜‘ì—…Â·ì ìš© ì¤‘ì‹¬)
ì…ë ¥:
"ì›¹ ì„œë¹„ìŠ¤ ìš´ì˜ í”„ë¡œì íŠ¸ì—ì„œ ë””ìì¸ ì‹œì•ˆ ì œì‘ê³¼ ê°œë°œ ì „ë‹¬ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. ê¸°íšì„œì™€ ì™€ì´ì–´í”„ë ˆì„ì„ ê¸°ë°˜ìœ¼ë¡œ ì£¼ìš” í™”ë©´ê³¼ UI ìš”ì†Œë¥¼ ë””ìì¸í–ˆìœ¼ë©°, ê°œë°œíŒ€ì´ ë°”ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì •ë¦¬í•´ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤. ë²„íŠ¼, ì…ë ¥ì°½, ë¦¬ìŠ¤íŠ¸, ì¹´ë“œ ë“± ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ìš”ì†ŒëŠ” ë™ì¼í•œ ê·œì¹™ê³¼ ìŠ¤íƒ€ì¼ì„ ìœ ì§€í•˜ë„ë¡ ì •ë¦¬í•´ í™”ë©´ ê°„ ì¼ê´€ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤. ë””ìì¸ ê³¼ì •ì—ì„œëŠ” í™”ë©´ì´ ì‹¤ì œ ê°œë°œ í™˜ê²½ì—ì„œ ì–´ë–»ê²Œ êµ¬í˜„ë˜ëŠ”ì§€ë¥¼ ê³ ë ¤í•´, í”½ì…€ ë‹¨ìœ„ ë ˆì´ì•„ì›ƒë³´ë‹¤ëŠ” ë°˜ì‘í˜•ì„ ê°ì•ˆí•œ ì—¬ë°±ê³¼ ì •ë ¬ ê¸°ì¤€ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ê°œë°œ ì¤‘ì—ëŠ” êµ¬í˜„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ë©° ë””ìì¸ê³¼ ë‹¤ë¥´ê²Œ í‘œí˜„ë˜ëŠ” ë¶€ë¶„ì„ ì¡°ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° UIë¥¼ í˜„ì‹¤ì ì¸ ë°©í–¥ìœ¼ë¡œ ìˆ˜ì •í•´ ì ìš©í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ê¸°ëŠ¥ ë³€ê²½ì´ë‚˜ ì¶”ê°€ ìš”ì²­ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ í•´ë‹¹ í™”ë©´ê³¼ ì—°ê´€ëœ ë””ìì¸ ìš”ì†Œë¥¼ ë¹ ë¥´ê²Œ ì—…ë°ì´íŠ¸í•´, ê°œë°œ ì¼ì •ì— ë§ì¶° í•„ìš”í•œ ì‚°ì¶œë¬¼ì´ ì œê³µë˜ë„ë¡ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë””ìì¸ì´ ë’¤ì²˜ì ¸ ê°œë°œì´ ë©ˆì¶”ëŠ” ìƒí™©ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë¦¬ì„œì¹˜ë‚˜ ì‹¤í—˜ì„ ì§ì ‘ ì£¼ë„í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ìš´ì˜ ì¤‘ ì ‘ìˆ˜ë˜ëŠ” ì‚¬ìš©ì í”¼ë“œë°±ê³¼ ê¸°íš ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜í•´ í™”ë©´ êµ¬ì„±ê³¼ í‘œí˜„ ë°©ì‹ì„ ì¡°ì •í•˜ë©° ì„œë¹„ìŠ¤ ì™„ì„±ë„ë¥¼ ë†’ì˜€ìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ì €ëŠ” ë””ìì¸ì´ ê¸°íšê³¼ ê°œë°œ ì‚¬ì´ë¥¼ ì—°ê²°í•˜ëŠ” ì‹¤ë¬´ì  ì—­í• ì„ì„ ì´í•´í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 45, "2": 45, "3": 65, "4": 45, "5": 65, "6": 65, "7": 45, "8": 65, "9": 85, "10": 45}

ê·¼ê±°:
- KPI 1(45): ê¸°íšì„œÂ·ì™€ì´ì–´í”„ë ˆì„ ê¸°ë°˜ ì‘ì—…, UX ë¬¸ì œ ì¬ì •ì˜, ì‚¬ìš©ì ë§¥ë½ ë¶„ì„ ì—†ìŒ â†’ ìš”ì²­ëœ êµ¬ì¡°ë¥¼ êµ¬í˜„í•œ ë””ìì´ë„ˆ â†’ í•˜
- KPI 2(45): í”Œë¡œìš° ì„¤ê³„Â·êµ¬ì¡° ì¬ë°°ì¹˜ ì–¸ê¸‰ ì—†ìŒ, í™”ë©´ ë‹¨ìœ„ ì ìš© â†’ í•˜
- KPI 3(65): ë²„íŠ¼, ì…ë ¥, ë¦¬ìŠ¤íŠ¸, ì¹´ë“œ ìŠ¤íƒ€ì¼ í†µí•©, í™”ë©´ ì¼ê´€ì„± ìœ ì§€ â†’ ì‹¤ë¬´ UI ì™„ì„±ë„ëŠ” ìˆìŒ â†’ ë³´í†µ ì¤‘
- KPI 4(45): í”„ë¡œí† íƒ€ì…Â·ì¸í„°ë™ì…˜ ì„¤ê³„ ì—†ìŒ â†’ í•˜
- KPI 5(65): ë°˜ë³µ ìš”ì†Œë¥¼ ë™ì¼ ê·œì¹™ìœ¼ë¡œ ì •ë¦¬, ë‹¤ë§Œ ì‹œìŠ¤í…œí™”Â·ë¬¸ì„œí™” ì–¸ê¸‰ ì—†ìŒ â†’ ë¶€ë¶„ì  ì‹œìŠ¤í…œí™” â†’ ë³´í†µ ì¤‘
- KPI 6(65): "ìš´ì˜ ì¤‘ ì ‘ìˆ˜ë˜ëŠ” ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜", ì§€í‘œÂ·í…ŒìŠ¤íŠ¸ëŠ” ì—†ì§€ë§Œ ê°œì„  ë£¨í”„ ì¡´ì¬ â†’ ë³´í†µ ì¤‘
- KPI 7(45): AI ë„êµ¬ í™œìš© ì—†ìŒ â†’ í•˜
- KPI 8(65): "ë°˜ì‘í˜•ì„ ê°ì•ˆí•œ ì—¬ë°±ê³¼ ì •ë ¬ ê¸°ì¤€", ë””ë°”ì´ìŠ¤ ëŒ€ì‘ ê³ ë ¤ â†’ ë³´í†µ ì¤‘
- KPI 9(85): ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ ì „ë‹¬, ê°œë°œ ê²°ê³¼ í™•ì¸ â†’ ì¡°ì • â†’ ì¬ì „ë‹¬, ì¼ì • ë§ì¶° ì‚°ì¶œë¬¼ ê´€ë¦¬ â†’ ì‹¤ë¬´ í˜‘ì—…í˜• ë””ìì´ë„ˆì˜ êµê³¼ì„œì  ìƒ â†’ ê°•í•œ ìƒ
- KPI 10(45): ë¸Œëœë“œ, í†¤, ë¬´ë“œ ì„¤ê³„ ì—†ìŒ â†’ í•˜

### ì˜ˆì‹œ E (ë¹„ì£¼ì–¼Â·ë¸Œëœë“œ ê°ê°í˜• ë””ìì´ë„ˆ)
ì…ë ¥:
"ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°ë¥¼ ê°•í™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì„œë¹„ìŠ¤ UI ë””ìì¸ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ í™”ë©´ì€ ê¸°ëŠ¥ ìœ„ì£¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ ë¸Œëœë“œì˜ ì„±ê²©ê³¼ í†¤ì´ ì˜ ë“œëŸ¬ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆê³ , ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì „ì²´ í™”ë©´ì˜ ì¸ìƒì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ê°€ ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë¶„ìœ„ê¸°ì™€ íƒ€ê¹ƒ ì‚¬ìš©ì ì´ë¯¸ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬´ë“œë³´ë“œë¥¼ êµ¬ì„±í•˜ê³ , ì´ë¥¼ í† ëŒ€ë¡œ UIì˜ ë¹„ì£¼ì–¼ ë°©í–¥ì„±ì„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ë©”ì¸ í™”ë©´ê³¼ ì£¼ìš” ì§„ì… í™”ë©´ì—ì„œëŠ” ë¸Œëœë“œ ì»¬ëŸ¬ì™€ ê·¸ë˜í”½ ìš”ì†Œë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•´ ì²« ì¸ìƒì´ ëª…í™•í•˜ê²Œ ë‚¨ë„ë¡ ë””ìì¸í–ˆê³ , ë²„íŠ¼ê³¼ ì•„ì´ì½˜, ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ì—ë„ ë™ì¼í•œ í†¤ì„ ì ìš©í•´ ì‹œê°ì  ì¼ê´€ì„±ì„ ìœ ì§€í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ë””ìì¸ í† í° í˜•íƒœë¡œ ì»¬ëŸ¬ì™€ í°íŠ¸, ê°„ê²© ê·œì¹™ì„ ì •ë¦¬í•´ ë‹¤ë¥¸ í™”ë©´ì—ì„œë„ ê°™ì€ ë¸Œëœë“œ ê°ê°ì´ ìœ ì§€ë˜ë„ë¡ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. í™”ë©´ ì „í™˜ê³¼ ì¸í„°ë™ì…˜ë³´ë‹¤ëŠ” ì‹œê°ì  ì™„ì„±ë„ì™€ ë¶„ìœ„ê¸° ì „ë‹¬ì— ì´ˆì ì„ ë‘ì—ˆìœ¼ë©°, ì‚¬ìš©ìì—ê²Œ ì£¼ëŠ” ê°ì •ì  ì¸ìƒì„ ì¤‘ìš”í•˜ê²Œ ê³ ë ¤í•´ ë ˆì´ì•„ì›ƒê³¼ ë¹„ì£¼ì–¼ ìš”ì†Œë¥¼ ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì„±ì´ë‚˜ ë°ì´í„° ê¸°ë°˜ ê°œì„ ë³´ë‹¤ëŠ” ë¸Œëœë“œ ì´ë¯¸ì§€ì™€ ì²« ì¸ìƒì„ ê°•í™”í•˜ëŠ” ì—­í• ì— ì§‘ì¤‘í•œ ê²½í—˜ì„ í†µí•´, ë””ìì¸ì´ ì œí’ˆì˜ ì •ì²´ì„±ì„ ë§Œë“œëŠ” ì¤‘ìš”í•œ ìš”ì†Œì„ì„ ì²´ê°í–ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 65, "2": 45, "3": 85, "4": 45, "5": 65, "6": 45, "7": 45, "8": 45, "9": 45, "10": 85}

ê·¼ê±°:
- KPI 1(65): "ë¸Œëœë“œ ì„±ê²©ê³¼ í†¤ì´ ë“œëŸ¬ë‚˜ì§€ ì•ŠëŠ” ë¬¸ì œ", ë¸Œëœë“œ ê´€ì ì˜ ë¬¸ì œ ì¬ì •ì˜ â†’ UXê°€ ì•„ë‹ˆë¼ ë¸Œëœë“œ ê²½í—˜ ê´€ì ì˜ ë¬¸ì œ ì •ì˜, ê·¸ë˜ë„ ìš”êµ¬ë¥¼ ê·¸ëŒ€ë¡œ ê·¸ë¦° ê²Œ ì•„ë‹ˆë¼ ì¬ì •ì˜í–ˆìœ¼ë¯€ë¡œ â†’ ë³´í†µ ì¤‘
- KPI 2(45): í”Œë¡œìš°, ë‹¨ê³„, ëª©í‘œ ë„ë‹¬ êµ¬ì¡° ì–¸ê¸‰ ì—†ìŒ, í™”ë©´ êµ¬ì„± ì¤‘ì‹¬ â†’ í•˜
- KPI 3(85): ìƒ‰ìƒÂ·íƒ€ì´í¬Â·ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼, ì‹œê°ì  ìœ„ê³„, í†¤, ì¼ê´€ì„± â†’ ë¹„ì£¼ì–¼ ë””ìì´ë„ˆì˜ êµê³¼ì„œì  ìƒ â†’ ê°•í•œ ìƒ
- KPI 4(45): "í™”ë©´ ì „í™˜ê³¼ ì¸í„°ë™ì…˜ë³´ë‹¤ëŠ” ì‹œê°ì  ì™„ì„±ë„ì— ì´ˆì ", í”„ë¡œí† íƒ€ì…Â·ê²€ì¦ ì—†ìŒ â†’ í•˜
- KPI 5(65): "ë””ìì¸ í† í° í˜•íƒœë¡œ ì»¬ëŸ¬Â·í°íŠ¸Â·ê°„ê²© ê·œì¹™ ì •ë¦¬" â†’ ë¶€ë¶„ì  ì‹œìŠ¤í…œí™” â†’ ë³´í†µ ì¤‘
- KPI 6(45): "ì‚¬ìš©ì„±ì´ë‚˜ ë°ì´í„° ê¸°ë°˜ ê°œì„ ë³´ë‹¤ëŠ”â€¦", ì§€í‘œÂ·í…ŒìŠ¤íŠ¸Â·í”¼ë“œë°± ì—†ìŒ â†’ í•˜
- KPI 7(45): AI ë„êµ¬ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 8(45): í”Œë«í¼ íŒ¨í„´Â·ì œì•½ ê³ ë ¤ ì—†ìŒ â†’ í•˜
- KPI 9(45): PMÂ·ê°œë°œ í˜‘ì—…, ì „ë‹¬, ì¡°ìœ¨ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 10(85): ë¬´ë“œë³´ë“œ, ë¸Œëœë“œ í†¤, ê°ì •ì  ì¸ìƒ, í™”ë©´ ì „ì²´ì— ì¼ê´€ ì ìš© â†’ ë¸Œëœë“œ ë””ìì´ë„ˆì˜ êµê³¼ì„œì  ìƒ â†’ ê°•í•œ ìƒ
"""


def evaluate_resume_kpis(resume_text: str) -> Dict[int, Dict[str, any]]:
    """
    ì´ë ¥ì„œ í…ìŠ¤íŠ¸ë¥¼ LLMì´ ì§ì ‘ í‰ê°€í•˜ì—¬ ë””ìì´ë„ˆ KPIë³„ ì ìˆ˜ ì‚°ì¶œ.
    
    Few-shot Learning ë°©ì‹ìœ¼ë¡œ ì˜ˆì‹œë¥¼ ì œê³µí•˜ê³ ,
    LLMì´ ë™ì¼í•œ ê¸°ì¤€ìœ¼ë¡œ ìƒˆ ì´ë ¥ì„œë¥¼ í‰ê°€.
    
    Args:
        resume_text: ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸
    
    Returns:
        {kpi_id: {"score": ì ìˆ˜, "basis": ê·¼ê±°ìˆ˜ì¤€}}
        - score: 40~90 ë²”ìœ„ì˜ ì •ìˆ˜
        - basis: "explicit" | "inferred" | "none"
    """
    client = OpenAI(api_key=settings.OPENAI_API_KEY)
    
    system_prompt = f"""ë„ˆëŠ” ë””ìì´ë„ˆ(Designer) ì—­ëŸ‰ í‰ê°€ ì „ë¬¸ê°€ë‹¤.
ì£¼ì–´ì§„ ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸ë¥¼ ì½ê³ , 10ê°œ KPIì— ëŒ€í•´ ì ìˆ˜ë¥¼ ë§¤ê¸´ë‹¤.

{KPI_DEFINITIONS}

{FEW_SHOT_EXAMPLES}

## ì¶œë ¥ í˜•ì‹
ë°˜ë“œì‹œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´. ê° KPIì— ëŒ€í•´ ì ìˆ˜(score), ê·¼ê±° ìˆ˜ì¤€(basis), í•´ë‹¹ ì ìˆ˜ë¥¼ ì¤€ **í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)**ì„ í•¨ê»˜ ì¶œë ¥.

```json
{{
  "1": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•´ë‹¹ KPIì— ëŒ€í•´ ì´ ì ìˆ˜ë¥¼ ì¤€ í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  "2": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  ...
  "10": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}}
}}
```
{REASON_FORMAT_RULES}

## ê·¼ê±° ìˆ˜ì¤€(basis) íŒë‹¨ ê¸°ì¤€
- **"explicit"**: í…ìŠ¤íŠ¸ì— í•´ë‹¹ KPI ê´€ë ¨ **êµ¬ì²´ì  ê²½í—˜/ì‘ì—…/ì„±ê³¼ê°€ ëª…ì‹œ**ë˜ì–´ ìˆìŒ
- **"inferred"**: ì§ì ‘ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ **ë§¥ë½ìƒ ì¶”ë¡  ê°€ëŠ¥** (ì˜ˆ: Figma ì‚¬ìš© â†’ í”„ë¡œí† íƒ€ì´í•‘ ì¶”ë¡ )
- **"none"**: í•´ë‹¹ KPI ê´€ë ¨ **ì–¸ê¸‰ì´ ì „í˜€ ì—†ìŒ** â†’ ì ìˆ˜ëŠ” 40~50 ë²”ìœ„

## ì ìˆ˜ ë¶€ì—¬ ê·œì¹™ (ì¤‘ìš”!)
- ìƒ ìˆ˜ì¤€: 75~90 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ìƒ=88, ë³´í†µ ìƒ=82, ì•½í•œ ìƒ=76)
- ì¤‘ ìˆ˜ì¤€: 55~70 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ì¤‘=68, ë³´í†µ ì¤‘=62, ì•½í•œ ì¤‘=56)
- í•˜ ìˆ˜ì¤€: 40~50 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ì•½ê°„ ì–¸ê¸‰=48, ê±°ì˜ ì—†ìŒ=44, ì „ë¬´=40)

âš ï¸ ì ˆëŒ€ 45, 65, 85ë¡œ ë”± ë–¨ì–´ì§€ê²Œ ì ìˆ˜ë¥¼ ë§¤ê¸°ì§€ ë§ˆë¼. ë°˜ë“œì‹œ ë²”ìœ„ ë‚´ì—ì„œ ì„¸ë°€í•˜ê²Œ ì°¨ë“±ì„ ë‘ì–´ë¼.
"""

    user_prompt = f"""ë‹¤ìŒ ì´ë ¥ì„œë¥¼ í‰ê°€í•´ì¤˜:

{resume_text}

JSON í˜•ì‹ìœ¼ë¡œ 10ê°œ KPIì˜ ì ìˆ˜(score), ê·¼ê±°ìˆ˜ì¤€(basis), í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)ì„ ì¶œë ¥í•´."""

    try:
        response = client.chat.completions.create(
            model="gpt-4o-mini",
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_prompt}
            ],
            temperature=0.0,  # ì¼ê´€ì„± ìµœëŒ€í™”
            response_format={"type": "json_object"}
        )
        
        result = response.choices[0].message.content
        scores = json.loads(result)
        
        parsed_scores = {}
        for kpi_id, data in scores.items():
            if isinstance(data, dict):
                score = max(40, min(90, int(data.get("score", 45))))
                basis = data.get("basis", "explicit")
                if basis not in ("explicit", "inferred", "none"):
                    basis = "explicit"
                reason = (data.get("reason") or "").strip() or None
            else:
                score = max(40, min(90, int(data)))
                basis = "explicit"
                reason = None
            parsed_scores[int(kpi_id)] = {"score": score, "basis": basis, "reason": reason}
        return parsed_scores
    
    except Exception as e:
        print(f"LLM í‰ê°€ ì˜¤ë¥˜: {e}")
        return {i: {"score": 45, "basis": "none", "reason": None} for i in range(1, 11)}
