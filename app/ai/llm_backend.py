"""
LLM ê¸°ë°˜ ë°±ì—”ë“œ KPI ì§ì ‘ í‰ê°€ ëª¨ë“ˆ.

Few-shot Learningì„ í™œìš©í•˜ì—¬ ì´ë ¥ì„œ í…ìŠ¤íŠ¸ì—ì„œ 
ë°±ì—”ë“œ ê°œë°œì KPI 10ê°œì— ëŒ€í•œ ì ìˆ˜ë¥¼ ì§ì ‘ ì‚°ì¶œ.
"""
from typing import Dict
from openai import OpenAI
import json

from app.core.config import settings
from app.ai.prompts import REASON_FORMAT_RULES


# KPI ì •ì˜ ë° í‰ê°€ ê¸°ì¤€
KPI_DEFINITIONS = """
## BE KPI 10ê°œ ë° í‰ê°€ ê¸°ì¤€

ì•„ë˜ ì˜ˆì‹œëŠ” **"ê¸°ì¤€í‘œ"** ì—­í• ì„ í•¨ â†’ ì§€ì›ì ê²½í—˜ì´ **ì´ ì¤‘ ì–´ë””ì™€ ê°€ì¥ ë¹„ìŠ·í•œì§€ë§Œ íŒë‹¨**

## ê³µí†µ ì›ì¹™ (ì¤‘ìš”)
- ëª¨ë“  ì˜ˆì‹œëŠ” **ì´ë ¥ì„œ ë¬¸ë‹¨ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°€ë„ ìì—°ìŠ¤ëŸ¬ìš´ ì„œìˆ **
- **ë„êµ¬ ì´ë¦„ë³´ë‹¤ íŒë‹¨/í–‰ë™/ê²°ê³¼ ì¤‘ì‹¬**
- "í•™ìŠµ/ê²½í—˜"ë§Œ ìˆìœ¼ë©´ **í•˜**
- "ìš´ì˜ ì¤‘ ë¬¸ì œ â†’ êµ¬ì¡°/ì „ëµ ë³€ê²½"ì´ ìˆìœ¼ë©´ **ìƒ**

## ì ìˆ˜ ë²”ìœ„
- **ìƒ**: 75~90ì  (ê°•í•œ ìƒ=88~90, ë³´í†µ ìƒ=80~87, ì•½í•œ ìƒ=75~79)
- **ì¤‘**: 55~70ì  (ê°•í•œ ì¤‘=67~70, ë³´í†µ ì¤‘=60~66, ì•½í•œ ì¤‘=55~59)
- **í•˜**: 40~50ì  (ì–¸ê¸‰ ìˆìŒ=48~50, ì•½ê°„ ì–¸ê¸‰=44~47, ì „í˜€ ì—†ìŒ=40~43)

## í‰ê°€ ì›ì¹™
- ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰ë˜ì§€ ì•Šì€ KPIëŠ” "í•˜(40~45)" ì²˜ë¦¬
- ë„êµ¬/ê¸°ìˆ  ì´ë¦„ë§Œ ë‚˜ì—´í•˜ë©´ "ì¤‘(55~65)" ìƒí•œ
- "ë¬¸ì œâ†’íŒë‹¨â†’í•´ê²°â†’ê²°ê³¼" íë¦„ì´ ìˆìœ¼ë©´ "ìƒ(80~90)" ê°€ëŠ¥
- í•™ìŠµ/ê²½í—˜ë§Œ ì–¸ê¸‰í•˜ë©´ "í•˜(45~50)"
- ê°™ì€ ë ˆë²¨ ë‚´ì—ì„œë„ ê·¼ê±°ì˜ ê°•ë„ì— ë”°ë¼ ì„¸ë¶€ ì ìˆ˜ ì°¨ë“±

---

## KPI ìš”ì•½í‘œ (ë¹ ë¥¸ ì°¸ì¡°ìš©)

| # | KPI | ìƒ(75~90) | ì¤‘(55~70) | í•˜(40~50) |
|---|-----|-----------|-----------|-----------|
| 1 | ë°±ì—”ë“œ ê¸°ìˆ  ì—­ëŸ‰ | ìš´ì˜í™˜ê²½ì—ì„œ ì˜ˆì™¸ì²˜ë¦¬, ë¹„ë™ê¸°, êµ¬ì¡°ì„¤ê³„ê¹Œì§€ ë‹¤ë£¸ | ê¸°ë³¸ êµ¬í˜„ ê°€ëŠ¥, ê³„ì¸µêµ¬ì¡° ë”°ë¼ ê°œë°œ | íŠœí† ë¦¬ì–¼/ì˜ˆì œ ìˆ˜ì¤€ í•™ìŠµ |
| 2 | REST API ì„¤ê³„Â·êµ¬í˜„ | ë¦¬ì†ŒìŠ¤ ì„¤ê³„, ì—ëŸ¬ê·œì•½ í†µì¼, êµ¬ì¡°ê°œì„  ê²½í—˜ | ìš”êµ¬ì‚¬í•­ ê¸°ë°˜ API êµ¬í˜„ | ì—”ë“œí¬ì¸íŠ¸ë§Œ êµ¬í˜„ |
| 3 | DBÂ·SQLÂ·ë°ì´í„° ëª¨ë¸ë§ | ì¸ë±ìŠ¤ ìµœì í™”, ì¿¼ë¦¬ íŠœë‹, ì„±ëŠ¥ê°œì„  ê²½í—˜ | í…Œì´ë¸” ì„¤ê³„, ORM ì‚¬ìš© | ë‹¨ì¼ í…Œì´ë¸” CRUD |
| 4 | ì•„í‚¤í…ì²˜ ì„¤ê³„ | êµ¬ì¡° ì¬ì •ì˜, í™•ì¥ì„±/ë¹„ìš© íŠ¸ë ˆì´ë“œì˜¤í”„ íŒë‹¨ | ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ ê¸°ë°˜ ê°œë°œ | ë‹¨ì¼ í”„ë¡œì íŠ¸ êµ¬ì¡° |
| 5 | í´ë¼ìš°ë“œÂ·DevOps í™˜ê²½ ì´í•´ | í´ë¼ìš°ë“œ ë°°í¬+ìš´ì˜, ì¸í”„ë¼ êµ¬ì„± ì§ì ‘ ê´€ë¦¬ | í´ë¼ìš°ë“œ í™˜ê²½ ë°°í¬ ê²½í—˜ | ë¡œì»¬ í™˜ê²½ë§Œ |
| 6 | ì„±ëŠ¥Â·íŠ¸ë˜í”½ ì²˜ë¦¬ ìµœì í™” | ë³‘ëª©ë¶„ì„, ìºì‹œ/ë¹„ë™ê¸° ì „ëµ, ìˆ˜ì¹˜ì  ê°œì„  | ì„±ëŠ¥ì´ìŠˆ ì¸ì§€í•˜ê³  ì¼ë¶€ ê°œì„  | ì„±ëŠ¥ ê³ ë ¤ ì—†ìŒ |
| 7 | ë³´ì•ˆÂ·ì¸ì¦Â·ê¶Œí•œ ì²˜ë¦¬ | ì¸ì¦/ê¶Œí•œ íë¦„ ì„¤ê³„, ë³´ì•ˆì²´ê³„ êµ¬ì¶• | ë¡œê·¸ì¸/ì ‘ê·¼ì œí•œ ê¸°ë³¸ êµ¬í˜„ | ë³´ì•ˆ ê³ ë ¤ ì—†ìŒ |
| 8 | í…ŒìŠ¤íŠ¸Â·ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ | í…ŒìŠ¤íŠ¸ì½”ë“œ ì‘ì„±, ë¦¬íŒ©í† ë§ìœ¼ë¡œ í’ˆì§ˆ ìœ ì§€ | ì¼ë¶€ í…ŒìŠ¤íŠ¸ ë˜ëŠ” ê°„ë‹¨í•œ ë¦¬íŒ©í† ë§ | í…ŒìŠ¤íŠ¸/ë¦¬íŒ©í† ë§ ì—†ìŒ |
| 9 | í˜‘ì—…Â·ë¬¸ì„œí™”Â·ì˜ì‚¬ê²°ì • ê¸°ë¡ | ë¬¸ì„œì •ë¦¬, í˜‘ì—…í”„ë¡œì„¸ìŠ¤ ê°œì„ , ì˜ì‚¬ê²°ì • ì£¼ë„ | í•„ìš”í•œ ë¶€ë¶„ ê°„ë‹¨íˆ ë¬¸ì„œí™” | ë¬¸ì„œ ì—†ì´ êµ¬ë‘ ì†Œí†µ |
| 10 | ìš´ì˜Â·ëª¨ë‹ˆí„°ë§Â·ì¥ì•  ëŒ€ì‘ | ëª¨ë‹ˆí„°ë§ êµ¬ì¶•, ì¥ì• ë¶„ì„/ì¬ë°œë°©ì§€ | ë¡œê·¸ í™•ì¸í•´ì„œ ë¬¸ì œ í•´ê²° | ìš´ì˜ ê²½í—˜ ì—†ìŒ |

---

## KPIë³„ ìƒì„¸ ì˜ˆì‹œ

## 1ï¸âƒ£ ë°±ì—”ë“œ ê¸°ìˆ  ì—­ëŸ‰

### ğŸ”¼ ìƒ
Spring Boot ê¸°ë°˜ ì„œë¹„ìŠ¤ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•´ ë„ë©”ì¸ë³„ ì±…ì„ì´ ë¶„ë¦¬ëœ êµ¬ì¡°ë¡œ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

ìš´ì˜ ì¤‘ ë°œìƒí•œ ì˜ˆì™¸ ìƒí™©ì„ ë°˜ì˜í•´ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í•˜ë©° ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ë™ì‘ì„ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
Spring Bootë¥¼ ì‚¬ìš©í•´ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , ê¸°ë³¸ì ì¸ ê³„ì¸µ êµ¬ì¡°ì— ë”°ë¼ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
Spring Bootë¥¼ í•™ìŠµí•˜ë©° ì˜ˆì œ í”„ë¡œì íŠ¸ë¥¼ ë”°ë¼ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

---

## 2ï¸âƒ£ REST API ì„¤ê³„Â·êµ¬í˜„

### ğŸ”¼ ìƒ
ì„œë¹„ìŠ¤ ê¸°ëŠ¥ í™•ì¥ ê³¼ì •ì—ì„œ API êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ ì¤‘ë³µ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•©í–ˆìŠµë‹ˆë‹¤.

ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ì„ í†µì¼í•˜ê³ , API ë³€ê²½ ì‚¬í•­ì„ íŒ€ê³¼ ê³µìœ í•˜ë©° êµ¬ì¡° ê°œì„ ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ìš”êµ¬ì‚¬í•­ì— ë§ì¶° REST APIë¥¼ êµ¬í˜„í•˜ê³  ê¸°ë³¸ì ì¸ ìƒíƒœ ì½”ë“œì™€ ì‘ë‹µ í˜•ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
API ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬í˜„í•´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

---

## 3ï¸âƒ£ DBÂ·SQLÂ·ë°ì´í„° ëª¨ë¸ë§

### ğŸ”¼ ìƒ
ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ë°ì´í„° êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³ , ì¡°íšŒ íŒ¨í„´ì„ ê³ ë ¤í•´ ì¸ë±ìŠ¤ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.

ì‹¤ì œ ì„±ëŠ¥ ì´ìŠˆë¥¼ ë¶„ì„í•´ ì¿¼ë¦¬ì™€ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³  ORMì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ë‹¨ì¼ í…Œì´ë¸” ìœ„ì£¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©° CRUD ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## 4ï¸âƒ£ ì•„í‚¤í…ì²˜ ì„¤ê³„

### ğŸ”¼ ìƒ
ì„œë¹„ìŠ¤ ê·œëª¨ì™€ íŒ€ ìƒí™©ì„ ê³ ë ¤í•´ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³ , ê¸°ëŠ¥ë³„ ì±…ì„ì„ ë¶„ë¦¬í•´ ë³€ê²½ ì˜í–¥ ë²”ìœ„ë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤.

ì„±ëŠ¥ì´ë‚˜ ìš´ì˜ ì´ìŠˆ ë°œìƒ ì‹œ íŠ¹ì • ì˜ì—­ë§Œ ê°œì„ í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°ë¥¼ ì¡°ì •í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ê³  ê¸°ëŠ¥ êµ¬í˜„ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ë‹¨ì¼ í”„ë¡œì íŠ¸ êµ¬ì¡°ì—ì„œ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

---

## 5ï¸âƒ£ í´ë¼ìš°ë“œÂ·DevOps

### ğŸ”¼ ìƒ
í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬Â·ìš´ì˜í•˜ë©°, ë°°í¬ íë¦„ê³¼ ì¸í”„ë¼ êµ¬ì„±ì„ ì§ì ‘ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

ìš´ì˜ í™˜ê²½ì„ ê³ ë ¤í•´ ì„¤ì •ê³¼ ë³´ì•ˆì„ ë¶„ë¦¬í•´ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
í´ë¼ìš°ë“œ í™˜ê²½ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•´ ìš´ì˜í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ë¡œì»¬ í™˜ê²½ì—ì„œë§Œ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

---

## 6ï¸âƒ£ ì„±ëŠ¥Â·íŠ¸ë˜í”½ ì²˜ë¦¬ ìµœì í™”

### ğŸ”¼ ìƒ
íŠ¸ë˜í”½ ì¦ê°€ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ë¶„ì„í•˜ê³  ë³‘ëª© ì§€ì ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

ìºì‹œë‚˜ ë¹„ë™ê¸° ì²˜ë¦¬ ì „ëµì„ ì ìš©í•´ ì‘ë‹µ ì†ë„ì™€ ì•ˆì •ì„±ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì„±ëŠ¥ ì´ìŠˆ ê°€ëŠ¥ì„±ì„ ì¸ì§€í•˜ê³  ì¼ë¶€ ì½”ë“œ ê°œì„ ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì„±ëŠ¥ì´ë‚˜ íŠ¸ë˜í”½ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## 7ï¸âƒ£ ë³´ì•ˆÂ·ì¸ì¦Â·ê¶Œí•œ ì²˜ë¦¬

### ğŸ”¼ ìƒ
ì¸ì¦ê³¼ ê¶Œí•œ íë¦„ì„ ì„¤ê³„í•´ ì‚¬ìš©ì ì ‘ê·¼ì„ ì œì–´í•˜ê³ , ë³´ì•ˆ ì´ìŠˆë¥¼ ê³ ë ¤í•œ êµ¬ì¡°ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ë¡œê·¸ì¸ ë° ì ‘ê·¼ ì œí•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ê¸°ë³¸ì ì¸ ë³´ì•ˆì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ì¸ì¦ì´ë‚˜ ê¶Œí•œ ì²˜ë¦¬ ì—†ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## 8ï¸âƒ£ í…ŒìŠ¤íŠ¸Â·ì½”ë“œ í’ˆì§ˆ & ë¦¬íŒ©í† ë§

### ğŸ”¼ ìƒ
í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ ì£¼ìš” ë¡œì§ì„ ê²€ì¦í•˜ê³ , ë¦¬íŒ©í† ë§ì„ í†µí•´ ì½”ë“œ ê°€ë…ì„±ê³¼ ì•ˆì •ì„±ì„ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì¼ë¶€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ê°„ë‹¨í•œ ë¦¬íŒ©í† ë§ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
í…ŒìŠ¤íŠ¸ ì½”ë“œë‚˜ ë¦¬íŒ©í† ë§ ê²½í—˜ì´ ì—†ìŠµë‹ˆë‹¤.

---

## 9ï¸âƒ£ í˜‘ì—…Â·ë¬¸ì„œí™”Â·ì˜ì‚¬ê²°ì • ê¸°ë¡

### ğŸ”¼ ìƒ
API ëª…ì„¸ë‚˜ ê¸°ìˆ  ë¬¸ì„œë¥¼ ì •ë¦¬í•´ íŒ€ê³¼ ê³µìœ í–ˆê³ , ë…¼ì˜ì™€ ê²°ì • ê³¼ì •ì„ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê²¼ìŠµë‹ˆë‹¤.

í˜‘ì—… ë°©ì‹ ê°œì„ ì„ í†µí•´ íŒ€ì˜ ì‘ì—… íš¨ìœ¨ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
í•„ìš”í•œ ë¶€ë¶„ë§Œ ê°„ë‹¨íˆ ë¬¸ì„œí™”í•˜ë©° í˜‘ì—…í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ë¬¸ì„œ ì—†ì´ êµ¬ë‘ë¡œ ì†Œí†µí–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”Ÿ ìš´ì˜Â·ëª¨ë‹ˆí„°ë§Â·ì¥ì•  ëŒ€ì‘

### ğŸ”¼ ìƒ
ë¡œê·¸ì™€ ëª¨ë‹ˆí„°ë§ì„ í†µí•´ ì´ìƒ ì§•í›„ë¥¼ ê°ì§€í•˜ê³ , ì¥ì•  ë°œìƒ ì‹œ ì›ì¸ì„ ë¶„ì„í•´ ì¬ë°œ ë°©ì§€ ì¡°ì¹˜ë¥¼ í–ˆìŠµë‹ˆë‹¤.

### ğŸ”½ ì¤‘
ì¥ì•  ë°œìƒ ì‹œ ë¡œê·¸ë¥¼ í™•ì¸í•´ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

### ğŸ”» í•˜
ìš´ì˜ í™˜ê²½ ê²½í—˜ì´ ì—†ìŠµë‹ˆë‹¤.
"""

# Few-shot ì˜ˆì‹œ (ëŒ€í‘œì ì¸ 2ê°œ)
FEW_SHOT_EXAMPLES = """
## í‰ê°€ ì˜ˆì‹œ

### ì˜ˆì‹œ A (ìš´ì˜í˜•Â·ì„±ëŠ¥í˜• ë°±ì—”ë“œ)
ì…ë ¥:
"SW ë§ˆì—ìŠ¤íŠ¸ë¡œ ê³¼ì •ì—ì„œ 'ì ˆì•½ ì±Œë¦°ì§€ ì„œë¹„ìŠ¤'ë¥¼ ì£¼ì œë¡œ íŒ€ì—ì„œ ë°±ì—”ë“œ ë° ì¸í”„ë¼ ê°œë°œì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ë°©í•™ ì¤‘ ìŠ¤í„°ë””ë¡œ JAVA, Spring, AWSì˜ í•µì‹¬ ì´ë¡ ì„ ìµí˜”ê³ , ì´ë¥¼ í† ëŒ€ë¡œ ì ˆì•½ ì±Œë¦°ì§€ ì„œë¹„ìŠ¤ì—ì„œ Spring Boot, AWS EC2/RDS, PostgreSQL ë“±ì„ í™œìš©í•´ ì£¼ìš” API ê°œë°œ, ì¸í”„ë¼, DBë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ë°°í¬ í›„ ìš´ì˜í•˜ëŠ” ê³¼ì •ì—ì„œ ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ ë§ˆì£¼í•˜ê³ , ì´ë¥¼ ë‹¤ì–‘í•œ ê¸°ìˆ ì„ í™œìš©í•´ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œí•´ê²°ì—­ëŸ‰ì„ ê¸¸ë €ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ì €ëŠ” ì—ëŸ¬ìœ¨ì„ ì¤„ì—¬ ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ JAVAì—ì„œ ì œê³µí•˜ëŠ” Sentry ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ ì„œë²„ ë‚´ APIì˜ ì‘ë‹µ ì‹œê°„ì´ 0.8ì´ˆê°€ ì´ˆê³¼ë˜ë©´ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í†µí•´ DB ì¸ë±ìŠ¤ ìµœì í™”ë¡œ ì‘ë‹µ ì†ë„ë¥¼ 0.3ì´ˆë¡œ ê°œì„ í•´ ì‚¬ìš©ì„±ì„ ì¦ì§„ì‹œì¼°ìœ¼ë©°, ì„œë¹„ìŠ¤ ê°œì„ ìœ¼ë¡œë¶€í„° ìœ ì €ê°€ ê¸ì •ì ì¸ ë¦¬ë·°ë¥¼ ë‚¨ê¸°ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ë˜, ì´ë¯¸ì§€ ë¡œë”©ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë¬¸ì œë¥¼ JAVA ë‚´ ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ í•´ê²°í–ˆìŠµë‹ˆë‹¤. ìœ ì €ê°€ ì¸ì¦í•œ ì±Œë¦°ì§€ ì‚¬ì§„ì„ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í†µí•´ ì´ë¯¸ì§€ í•´ìƒë„ë¥¼ ë‚®ì¶° DBì— ì €ì¥í•˜ê³  ì´ë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨ ì´ë¯¸ì§€ ë¡œë”© ì‹œê°„ì„ ì¤„ì˜€ê³ , ì´ë¡œë¶€í„° ìœ ì € ì´íƒˆë¥ ì„ 10% ê°ì†Œì‹œí‚¤ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì ˆì•½ ì±Œë¦°ì§€ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë©´ì„œ ëŠ¥ë™ì ìœ¼ë¡œ í˜‘ì—…í•˜ëŠ” ìì„¸ë¡œ íŒ€ì˜ íš¨ìœ¨ì„±ì„ ì¦ì§„ì‹œì¼°ìŠµë‹ˆë‹¤. ì•± ì„œë¹„ìŠ¤ ê°œë°œì„ ì²˜ìŒ ì ‘í•˜ëŠ” íŒ€ì›ì„ ìœ„í•´ ë§¤ë²ˆ íŒ€ì›ì˜ ì—…ë¬´ì— ê´€ë ¨ëœ ê¸°ìˆ  ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¾ì•„ ê³µìœ í•˜ì—¬ íŒ€ì›ì˜ ì—…ë¬´ë¥¼ ë„ì™”ìŠµë‹ˆë‹¤. ê·¸ë¿ë§Œ ì•„ë‹ˆë¼ ì¬íƒê·¼ë¬´ë¡œ ì¸í•´ ì§„í–‰ ìƒí™© ë° ë¬¸ì œ ê³µìœ ê°€ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íŒ€ ë‚´ ì†Œí†µ ì±„ë„ Slackì„ í™œìš©í•´ ë¬¸ì œ ê³µìœ  ê²Œì‹œíŒì„ ì¶”ê°€ ê°œì„¤í•˜ì—¬, ë§¤ì¼ ì§„í–‰í•˜ëŠ” ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ ì‹œê°„ì„ 1ì‹œê°„ì—ì„œ 30ë¶„ìœ¼ë¡œ ì¤„ì˜€ìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 85, "2": 62, "3": 88, "4": 65, "5": 83, "6": 90, "7": 42, "8": 42, "9": 86, "10": 87}

ê·¼ê±°:
- KPI 1(85): Java, Spring Boot ì‹¤ì „ ì‚¬ìš©, ë¹„ë™ê¸°/ì˜ˆì™¸ì²˜ë¦¬ê¹Œì§€ ë‹¤ë£¸ â†’ ê°•í•œ ìƒ
- KPI 2(62): API ê°œë°œ ì–¸ê¸‰ë˜ë‚˜ ì„¤ê³„/ì—ëŸ¬ê·œì•½ ì¦ê±° ë¶€ì¡± â†’ ë³´í†µ ì¤‘
- KPI 3(88): DB ì¸ë±ìŠ¤ ìµœì í™” + **"0.8ì´ˆâ†’0.3ì´ˆ" ìˆ˜ì¹˜ ê²°ê³¼ ëª…ì‹œ** â†’ ê°•í•œ ìƒ âš ï¸ ìˆ˜ì¹˜ ì—†ìœ¼ë©´ ì¤‘
- KPI 4(65): EC2/RDS êµ¬ì¡° ì‚¬ìš©, ì—­í•  ë¶„ë¦¬ëŠ” ìˆìœ¼ë‚˜ ì•„í‚¤í…ì²˜ íŒë‹¨ ì—†ìŒ â†’ ë³´í†µ ì¤‘
- KPI 5(83): AWS EC2/RDS, ì‹¤ì„œë¹„ìŠ¤ ë°°í¬/ìš´ì˜ â†’ ë³´í†µ ìƒ
- KPI 6(90): **4ê°€ì§€ ì´ìƒ**(Sentry ëª¨ë‹ˆí„°ë§ + ì¸ë±ìŠ¤ ìµœì í™” + ë¹„ë™ê¸° ì´ë¯¸ì§€ ì²˜ë¦¬ + ì´íƒˆë¥  10% ê°ì†Œ) â†’ ë§¤ìš° ê°•í•œ ìƒ âš ï¸ 1~2ê°œë©´ ì¤‘
- KPI 7(42): ì¸ì¦/ê¶Œí•œ/ë³´ì•ˆ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 8(42): í…ŒìŠ¤íŠ¸/ë¦¬íŒ©í† ë§ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 9(86): **ë„êµ¬(Slack) + ì‚¬ìš©ë²•(ë¬¸ì œê³µìœ  ê²Œì‹œíŒ ê°œì„¤) + ê²°ê³¼(ìŠ¤í¬ëŸ¼ 1ì‹œê°„â†’30ë¶„)** ëª¨ë‘ êµ¬ì²´ì  â†’ ê°•í•œ ìƒ âš ï¸ "íŒ€ í˜‘ì—…"ë§Œ ìˆìœ¼ë©´ ì¤‘
- KPI 10(87): **ì‹¤ì‹œê°„ ë„êµ¬(Sentry)** + **ê°œì„  ë£¨í”„(ì—ëŸ¬â†’ë¶„ì„â†’ì¸ë±ìŠ¤â†’ì„±ëŠ¥ê°œì„ )** â†’ ê°•í•œ ìƒ âš ï¸ ë¡œê·¸ í™•ì¸ë§Œ ìˆìœ¼ë©´ ì¤‘

### ì˜ˆì‹œ B (ì•„í‚¤í…ì²˜Â·ì¸í”„ë¼í˜• ë°±ì—”ë“œ)
ì…ë ¥:
"ëŒ€ê·œëª¨ íŠ¸ë˜í”½ í™˜ê²½ì—ì„œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬í˜„ ì—­ëŸ‰ë¿ë§Œ ì•„ë‹ˆë¼, ì„±ëŠ¥Â·ë¹„ìš©Â·ì•ˆì •ì„±ì„ í•¨ê»˜ ê³ ë ¤í•œ ì¸í”„ë¼ ìˆ˜ì¤€ì˜ íŒë‹¨ì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì €ëŠ” ì„œë¹„ìŠ¤ì˜ ë°°í¬ì™€ ìš´ì˜ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³ , êµ¬ì¡°ì ì¸ í•´ê²°ì±…ì„ ì„¤ê³„Â·ì ìš©í•œ ê²½í—˜ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. íŒ€ í”„ë¡œì íŠ¸ë¡œ ê°œë°œí•œ ì„œë¹„ìŠ¤ë¥¼ í´ë¼ìš°ë“œ í™˜ê²½ì— ë°°í¬í•´ ìš´ì˜í•˜ë˜ ì¤‘, íŠ¸ë˜í”½ ì¦ê°€ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ì™€ ìš´ì˜ ë¹„ìš© ì¦ê°€ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”ì™€ ìºì‹œ ì „ëµ ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ê°œì„ ì„ ì‹œë„í–ˆìœ¼ë‚˜, ê·¼ë³¸ì ì¸ í•œê³„ê°€ ìˆìŒì„ ì¸ì‹í•˜ê³  ë¬¸ì œì˜ ì›ì¸ì„ ì¸í”„ë¼ êµ¬ì¡° ê´€ì ì—ì„œ ì¬ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ì— í´ë¼ìš°ë“œì™€ ë¬¼ë¦¬ ì„œë²„ í™˜ê²½ì„ ë³‘í–‰í•˜ëŠ” êµ¬ì¡°ë¡œ ì „í™˜í•˜ëŠ” ë°©ì•ˆì„ ì œì•ˆí•˜ê³  ì‹¤í–‰ì„ ì£¼ë„í–ˆìŠµë‹ˆë‹¤. ì„œë²„ í•˜ë“œì›¨ì–´ë¥¼ ì§ì ‘ êµ¬ì„±í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ê³„í•˜ê³ , ë°©í™”ë²½ ì„¤ì •ì„ í¬í•¨í•œ ë³´ì•ˆ ì²´ê³„ë¥¼ êµ¬ì¶•í–ˆìœ¼ë©°, Docker ê¸°ë°˜ ì»¨í…Œì´ë„ˆ ë°°í¬ì™€ ëª¨ë‹ˆí„°ë§ í™˜ê²½ì„ êµ¬ì„±í•´ ìš´ì˜ ì•ˆì •ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ ê¸°ì¡´ í´ë¼ìš°ë“œ í™˜ê²½ ëŒ€ë¹„ ìš´ì˜ ë¹„ìš©ì„ ì•½ 94% ì ˆê°í•˜ê³ , ì»´í“¨íŒ… ìì›ì„ 8ë°° ì´ìƒ í™•ì¥í•´ íŠ¸ë˜í”½ ì¦ê°€ ìƒí™©ì—ì„œë„ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ì €ëŠ” í¼ë¸”ë¦­ í´ë¼ìš°ë“œì˜ ìœ ì—°ì„±ê³¼ ë¬¼ë¦¬ ì¸í”„ë¼ì˜ ì•ˆì •ì„±ì´ë¼ëŠ” ê° í™˜ê²½ì˜ íŠ¹ì„±ì„ ì´í•´í•˜ê³ , ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„Â·ìš´ì˜í•  ìˆ˜ ìˆëŠ” ì—­ëŸ‰ì„ ê°–ì¶”ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¨ìˆœí•œ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´, ìš´ì˜ í™˜ê²½ê³¼ ì¥ê¸°ì ì¸ í™•ì¥ì„±ì„ ê³ ë ¤í•œ ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •ì„ ìˆ˜í–‰í•˜ëŠ” ë°±ì—”ë“œ ì—”ì§€ë‹ˆì–´ë¡œì„œ ê¸°ì—¬í•˜ê³ ì í•©ë‹ˆë‹¤."

ì¶œë ¥:
{"1": 85, "2": 70, "3": 78, "4": 88, "5": 90, "6": 85, "7": 70, "8": 60, "9": 75, "10": 90}

ê·¼ê±°:
- KPI 1(85): ì¸í”„ë¼ êµ¬ì„±ë„ ë°±ì—”ë“œ ì—­ëŸ‰, ì„œë²„ í•˜ë“œì›¨ì–´ êµ¬ì„± + Docker + ëª¨ë‹ˆí„°ë§ â†’ ê°•í•œ ìƒ
- KPI 2(70): ì§ì ‘ API êµ¬í˜„ì€ ì—†ìœ¼ë‚˜ "ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ê°œì„ " ê²½í—˜ ì–¸ê¸‰ â†’ ê°•í•œ ì¤‘
- KPI 3(78): ì¿¼ë¦¬ ìµœì í™”, ìºì‹œ ì „ëµ ì–¸ê¸‰ + êµ¬ì¡°ì  ì ‘ê·¼ â†’ ì•½í•œ ìƒ
- KPI 4(88): í´ë¼ìš°ë“œ â†’ í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡° ì „í™˜, êµ¬ì¡° ì¬ì •ì˜ + íŒë‹¨ ì£¼ë„, í™•ì¥ì„±Â·ë¹„ìš©Â·ì•ˆì •ì„± íŠ¸ë ˆì´ë“œì˜¤í”„ â†’ ê°•í•œ ìƒ
- KPI 5(90): í´ë¼ìš°ë“œ + ë¬¼ë¦¬ ì„œë²„ + Docker + ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ â†’ ë§¤ìš° ê°•í•œ ìƒ
- KPI 6(85): íŠ¸ë˜í”½ ì¦ê°€ ë¬¸ì œ, êµ¬ì¡° ì „í™˜, ì»´í“¨íŒ… ìì› 8ë°° í™•ì¥, 94% ë¹„ìš© ì ˆê° â†’ ê°•í•œ ìƒ
- KPI 7(70): ë°©í™”ë²½ ì„¤ì •, ë³´ì•ˆ ì²´ê³„ êµ¬ì¶• â†’ ê°•í•œ ì¤‘
- KPI 8(60): ì§ì ‘ í…ŒìŠ¤íŠ¸ ì–¸ê¸‰ ì—†ìœ¼ë‚˜ ìš´ì˜ ì•ˆì •ì„± í™•ë³´ ë…¸ë ¥ â†’ ë³´í†µ ì¤‘
- KPI 9(75): "ì œì•ˆí•˜ê³  ì‹¤í–‰ì„ ì£¼ë„", ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • ìˆ˜í–‰ â†’ ì•½í•œ ìƒ
- KPI 10(90): ëª¨ë‹ˆí„°ë§ í™˜ê²½ êµ¬ì„± + ìš´ì˜ ë¹„ìš©/ì•ˆì •ì„± ê´€ë¦¬ + ìˆ˜ì¹˜ ê²°ê³¼ â†’ ë§¤ìš° ê°•í•œ ìƒ

### ì˜ˆì‹œ C (ìˆœìˆ˜ ì¸í”„ë¼Â·ì•„í‚¤í…ì²˜í˜• ë°±ì—”ë“œ)
ì…ë ¥:
"ì„œë¹„ìŠ¤ ìš´ì˜ ê³¼ì •ì—ì„œ íŠ¸ë˜í”½ ì¦ê°€ë¡œ ì¸í•´ ì‘ë‹µ ì§€ì—°ê³¼ ìš´ì˜ ë¹„ìš© ìƒìŠ¹ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”ì™€ ìºì‹œ ì ìš© ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ í•´ê²°ì„ ì‹œë„í–ˆìœ¼ë‚˜, ì„œë¹„ìŠ¤ ì‚¬ìš© íŒ¨í„´ê³¼ íŠ¸ë˜í”½ íŠ¹ì„±ì„ ê³ ë ¤í–ˆì„ ë•Œ êµ¬ì¡°ì ì¸ í•œê³„ê°€ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. ì´ì— ë¬¸ì œë¥¼ ì¸í”„ë¼ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ì¬ì •ì˜í•˜ê³ , í´ë¼ìš°ë“œ í™˜ê²½ê³¼ ë¬¼ë¦¬ ì„œë²„ í™˜ê²½ì„ ë³‘í–‰í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡°ë¡œ ì „í™˜í•˜ëŠ” ë°©ì•ˆì„ ì œì•ˆí•˜ê³  ì‹¤í–‰ì„ ì£¼ë„í–ˆìŠµë‹ˆë‹¤. ì„œë²„ í•˜ë“œì›¨ì–´ êµ¬ì„±ë¶€í„° ë„¤íŠ¸ì›Œí¬ ì„¤ê³„, ë°©í™”ë²½ ì„¤ì •ì„ í¬í•¨í•œ ê¸°ë³¸ ë³´ì•ˆ ì •ì±… ìˆ˜ë¦½ê¹Œì§€ ì „ë°˜ì ì¸ ì¸í”„ë¼ êµ¬ì„±ì„ ë‹´ë‹¹í–ˆìœ¼ë©°, Docker ê¸°ë°˜ ì»¨í…Œì´ë„ˆ ë°°í¬ í™˜ê²½ì„ êµ¬ì¶•í•´ ë°°í¬ ì¼ê´€ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ëª¨ë‹ˆí„°ë§ ë„êµ¬ë¥¼ ì—°ë™í•´ ìì› ì‚¬ìš©ëŸ‰ê³¼ ì¥ì•  ì§•í›„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ìš´ì˜ í™˜ê²½ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ ê¸°ì¡´ ëŒ€ë¹„ ìš´ì˜ ë¹„ìš©ì„ í¬ê²Œ ì ˆê°í•˜ë©´ì„œë„ íŠ¸ë˜í”½ ì¦ê°€ ìƒí™©ì—ì„œë„ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ë‹¨ìˆœ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´, ì„œë¹„ìŠ¤ íŠ¹ì„±ê³¼ ìš´ì˜ í™˜ê²½ì— ë§ëŠ” êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³  ì¥ê¸°ì ì¸ ì•ˆì •ì„±ì„ í™•ë³´í•˜ëŠ” ë°±ì—”ë“œ ì—”ì§€ë‹ˆì–´ë¡œì„œì˜ ì—­ëŸ‰ì„ ê°•í™”í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 80, "2": 65, "3": 70, "4": 85, "5": 88, "6": 90, "7": 42, "8": 48, "9": 70, "10": 85}

ê·¼ê±°:
- KPI 1(80): ì¸í”„ë¼ êµ¬ì„± + Docker + ì„œë²„ í•˜ë“œì›¨ì–´ë„ ë°±ì—”ë“œ ì—­ëŸ‰ìœ¼ë¡œ ì¸ì • â†’ ë³´í†µ ìƒ
- KPI 2(65): ì§ì ‘ API êµ¬í˜„ ì—†ìœ¼ë‚˜ "ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨" ê²½í—˜ ì–¸ê¸‰ â†’ ë³´í†µ ì¤‘
- KPI 3(70): ì¿¼ë¦¬ ìµœì í™”, ìºì‹œ ì ìš© ì–¸ê¸‰ â†’ ê°•í•œ ì¤‘
- KPI 4(85): ì•± ë ˆë²¨ â†’ ì¸í”„ë¼ ë ˆë²¨ ì „í™˜, í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡°, êµ¬ì¡°ì  ì¬ì •ì˜ + ì‹¤í–‰ ì£¼ë„ â†’ ê°•í•œ ìƒ
- KPI 5(88): í´ë¼ìš°ë“œ + ë¬¼ë¦¬ ì„œë²„ + Docker + ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ â†’ ê°•í•œ ìƒ
- KPI 6(90): íŠ¸ë˜í”½ ì¦ê°€ + êµ¬ì¡° ì „í™˜ + ë¹„ìš©Â·ì„±ëŠ¥ ë™ì‹œ ê°œì„  + ëª¨ë‹ˆí„°ë§ â†’ ë§¤ìš° ê°•í•œ ìƒ
- KPI 7(42): ë°©í™”ë²½ "ê¸°ë³¸ ë³´ì•ˆ ì •ì±…" ìˆ˜ì¤€, ì¸ì¦/ê¶Œí•œ ì²´ê³„ ì—†ìŒ â†’ í•˜
- KPI 8(48): í…ŒìŠ¤íŠ¸, ë¦¬íŒ©í† ë§ ì „í˜€ ì—†ìŒ, ë°°í¬ ì¼ê´€ì„±ë§Œ ì–¸ê¸‰ â†’ í•˜
- KPI 9(70): "ì œì•ˆí•˜ê³  ì‹¤í–‰ì„ ì£¼ë„" + ìš´ì˜ í™˜ê²½ ê°œì„  â†’ ê°•í•œ ì¤‘
- KPI 10(85): ëª¨ë‹ˆí„°ë§ ë„êµ¬, ìì› ì‚¬ìš©ëŸ‰, ì¥ì•  ì§•í›„ ì‹¤ì‹œê°„ í™•ì¸ â†’ ê°•í•œ ìƒ

### ì˜ˆì‹œ D (ì‹¤ë¬´í˜• ì£¼ë‹ˆì–´ ë°±ì—”ë“œ)
ì…ë ¥:
"íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë°±ì—”ë“œ ê°œë°œì„ ë‹´ë‹¹í•˜ë©° ì„œë¹„ìŠ¤ ê¸°ëŠ¥ êµ¬í˜„ê³¼ ìš´ì˜ì„ ê²½í—˜í–ˆìŠµë‹ˆë‹¤. ìš”êµ¬ì‚¬í•­ì— ë§ì¶° REST APIë¥¼ êµ¬í˜„í•˜ê³  ORMì„ ì‚¬ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìœ¼ë©°, í´ë¼ìš°ë“œ í™˜ê²½ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•´ ìš´ì˜í–ˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€í•˜ë©´ì„œ íŠ¹ì • APIì˜ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆê³ , íŒ€ ë‚´ ë…¼ì˜ë¥¼ í†µí•´ ì¡°íšŒ ë¹ˆë„ê°€ ë†’ì€ ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„±ëŠ¥ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ìš´ì˜ ì¤‘ ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ ë¡œê·¸ë¥¼ í™•ì¸í•´ ì›ì¸ì„ íŒŒì•…í•˜ê³ , ì½”ë“œ ìˆ˜ì •ì´ë‚˜ ì„¤ì • ë³€ê²½ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²½í—˜ì„ í–ˆìŠµë‹ˆë‹¤. í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œì˜ ë°°í¬ì™€ ê¸°ë³¸ì ì¸ ì¸í”„ë¼ ì„¤ì •ì„ ê²½í—˜í•˜ë©° ì„œë¹„ìŠ¤ ìš´ì˜ íë¦„ì„ ì´í•´í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì•„í‚¤í…ì²˜ êµ¬ì¡°ë‚˜ ì¸í”„ë¼ êµ¬ì„±ì— ëŒ€í•œ ì˜ì‚¬ê²°ì •ì€ ì£¼ë¡œ íŒ€ì—ì„œ ì •í•œ ë°©í–¥ì— ë”°ë¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ë°±ì—”ë“œ ê°œë°œ ì „ë°˜ì˜ íë¦„ê³¼ ì‹¤ë¬´ í™˜ê²½ì—ì„œì˜ ì—­í•  ìˆ˜í–‰ ëŠ¥ë ¥ì„ ê¸°ë¥¼ ìˆ˜ ìˆì—ˆìœ¼ë©°, ì´í›„ ë³´ë‹¤ ì£¼ë„ì ì¸ ê¸°ìˆ ì  íŒë‹¨ ì—­ëŸ‰ì˜ í•„ìš”ì„±ì„ ì¸ì‹í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 68, "2": 65, "3": 70, "4": 58, "5": 65, "6": 75, "7": 42, "8": 42, "9": 60, "10": 70}

ê·¼ê±°:
- KPI 1(68): REST API êµ¬í˜„, ORM ì‚¬ìš©, ì‹¤ì„œë¹„ìŠ¤ ê°œë°œ â†’ ê°•í•œ ì¤‘
- KPI 2(65): REST API êµ¬í˜„, ìš”êµ¬ì‚¬í•­ ê¸°ë°˜ ì—”ë“œí¬ì¸íŠ¸ ì‘ì„± â†’ ë³´í†µ ì¤‘
- KPI 3(70): ì¸ë±ìŠ¤ ì¶”ê°€ë¡œ ì„±ëŠ¥ ê°œì„ , í…Œì´ë¸” ì„¤ê³„ â†’ ê°•í•œ ì¤‘
- KPI 4(58): "íŒ€ì—ì„œ ì •í•œ ë°©í–¥ì— ë”°ë¼ ìˆ˜í–‰"ì´ë‚˜ ì„œë¹„ìŠ¤/ë°°ì¹˜ êµ¬ì¡° ì´í•´ ìˆìŒ â†’ ì•½í•œ ì¤‘
- KPI 5(65): í´ë¼ìš°ë“œ ë°°í¬, ê¸°ë³¸ ì¸í”„ë¼ ì„¤ì • â†’ ë³´í†µ ì¤‘
- KPI 6(75): ì¸ë±ìŠ¤ ì¶”ê°€ + ì„±ëŠ¥ ê°œì„  + ì‘ë‹µ ì†ë„ ë¬¸ì œ í•´ê²° â†’ ì•½í•œ ìƒ
- KPI 7(42): ì¸ì¦Â·ê¶Œí•œÂ·ë³´ì•ˆ ì„¤ê³„ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 8(42): í…ŒìŠ¤íŠ¸, ë¦¬íŒ©í† ë§, í’ˆì§ˆ ê´€ë¦¬ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 9(60): "íŒ€ ë‚´ ë…¼ì˜", ë¬¸ì œ í•´ê²° í˜‘ì—… â†’ ì•½í•œ ì¤‘
- KPI 10(70): ë¡œê·¸ í™•ì¸ + ì¥ì•  ì›ì¸ íŒŒì•… + ì½”ë“œ ìˆ˜ì •ìœ¼ë¡œ í•´ê²° â†’ ê°•í•œ ì¤‘

### ì˜ˆì‹œ E (í•™ìŠµí˜• ì£¼ë‹ˆì–´ ë°±ì—”ë“œ)
ì…ë ¥:
"ë°±ì—”ë“œ ê°œë°œì„ ì²˜ìŒ ì ‘í•˜ë©° Spring Bootë¥¼ ì‚¬ìš©í•´ ê°„ë‹¨í•œ CRUD ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ê°•ì˜ ìë£Œì™€ ì˜ˆì œ ì½”ë“œë¥¼ ì°¸ê³ í•´ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì„œë¹„ìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ë™í•´ ê¸°ë³¸ì ì¸ ë°ì´í„° ì €ì¥ê³¼ ì¡°íšŒ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ë¡œì»¬ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•´ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•˜ë©° ë°±ì—”ë“œ ê°œë°œì˜ ê¸°ë³¸ íë¦„ì„ ìµí˜”ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° API ìš”ì²­ê³¼ ì‘ë‹µ êµ¬ì¡°, ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë°©ì‹ì— ëŒ€í•œ ì´í•´ë¥¼ ë†’ì¼ ìˆ˜ ìˆì—ˆì§€ë§Œ, ì„±ëŠ¥ ìµœì í™”ë‚˜ ì•„í‚¤í…ì²˜ ì„¤ê³„, ìš´ì˜ í™˜ê²½ì„ ê³ ë ¤í•œ ê°œì„  ì‘ì—…ê¹Œì§€ëŠ” ê²½í—˜í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë˜í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì´ë‚˜ ë°°í¬, ëª¨ë‹ˆí„°ë§ê³¼ ê°™ì€ ìš´ì˜ ê´€ë ¨ ì‘ì—…ì—ëŠ” ì°¸ì—¬í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ë°±ì—”ë“œ ê°œë°œì˜ ê¸°ì´ˆì ì¸ ê°œë…ê³¼ êµ¬ì¡°ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆì—ˆìœ¼ë©°, ì´í›„ ë” ë³µì¡í•œ ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œì˜ ê°œë°œê³¼ ìš´ì˜ ê²½í—˜ì„ ìŒ“ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ í•™ìŠµê³¼ í”„ë¡œì íŠ¸ ì°¸ì—¬ê°€ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤."

ì¶œë ¥:
{"1": 45, "2": 45, "3": 45, "4": 45, "5": 45, "6": 45, "7": 45, "8": 45, "9": 45, "10": 45}

ê·¼ê±°:
- ì „ì²´: íŠœí† ë¦¬ì–¼/ì˜ˆì œ ê¸°ë°˜ í•™ìŠµ ìˆ˜ì¤€, ì‹¤ì„œë¹„ìŠ¤ ê²½í—˜ ì—†ìŒ
- KPI 1(45): Spring Boot, CRUD, íŠœí† ë¦¬ì–¼Â·ì˜ˆì œ ê¸°ë°˜, ì‹¤ì „ ì„œë¹„ìŠ¤, ì˜ˆì™¸ ì²˜ë¦¬, êµ¬ì¡° ì„¤ê³„ ì—†ìŒ â†’ í•˜
- KPI 2(45): ì»¨íŠ¸ë¡¤ëŸ¬ ì‘ì„±, ìš”ì²­Â·ì‘ë‹µ êµ¬ì¡° í•™ìŠµ, ë¦¬ì†ŒìŠ¤ ì„¤ê³„, ì—ëŸ¬ ê·œì•½, ì‹¤ì„œë¹„ìŠ¤ API ì—†ìŒ â†’ í•˜
- KPI 3(45): ê¸°ë³¸ì ì¸ ì €ì¥Â·ì¡°íšŒ, í…Œì´ë¸” êµ¬ì¡°, ì¸ë±ìŠ¤, ê´€ê³„ ì„¤ê³„ ì—†ìŒ â†’ í•˜
- KPI 4(45): êµ¬ì¡° ì„¤ê³„, ëª¨ë“ˆí™”, ì±…ì„ ë¶„ë¦¬ ì „í˜€ ì—†ìŒ â†’ í•˜
- KPI 5(45): ë¡œì»¬ ì‹¤í–‰ë§Œ, ë°°í¬, ì¸í”„ë¼, CI/CD ì—†ìŒ â†’ í•˜
- KPI 6(45): ì„±ëŠ¥, ìºì‹œ, ë³‘ëª©, íŠ¸ë˜í”½ ì–¸ê¸‰ ì—†ìŒ â†’ í•˜
- KPI 7(45): ì „í˜€ ì—†ìŒ â†’ í•˜
- KPI 8(45): í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬íŒ©í† ë§, í’ˆì§ˆ ê´€ë¦¬ ì—†ìŒ â†’ í•˜
- KPI 9(45): ê°œì¸ í•™ìŠµ, í˜‘ì—…Â·ë¬¸ì„œÂ·ì˜ì‚¬ê²°ì • ì—†ìŒ â†’ í•˜
- KPI 10(45): ìš´ì˜Â·ëª¨ë‹ˆí„°ë§Â·ì¥ì•  ê²½í—˜ ì—†ìŒ â†’ í•˜
"""

def evaluate_resume_kpis(resume_text: str) -> Dict[int, Dict[str, any]]:
    """
    ì´ë ¥ì„œ í…ìŠ¤íŠ¸ë¥¼ LLMì´ ì§ì ‘ í‰ê°€í•˜ì—¬ ë°±ì—”ë“œ KPIë³„ ì ìˆ˜ ì‚°ì¶œ.
    
    Few-shot Learning ë°©ì‹ìœ¼ë¡œ ì˜ˆì‹œë¥¼ ì œê³µí•˜ê³ ,
    LLMì´ ë™ì¼í•œ ê¸°ì¤€ìœ¼ë¡œ ìƒˆ ì´ë ¥ì„œë¥¼ í‰ê°€.
    
    Args:
        resume_text: ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸
    
    Returns:
        {kpi_id: {"score": ì ìˆ˜, "basis": ê·¼ê±°ìˆ˜ì¤€}}
        - score: 40~90 ë²”ìœ„ì˜ ì •ìˆ˜
        - basis: "explicit" | "inferred" | "none"
    """
    client = OpenAI(api_key=settings.OPENAI_API_KEY)
    
    system_prompt = f"""ë„ˆëŠ” ë°±ì—”ë“œ ê°œë°œì ì—­ëŸ‰ í‰ê°€ ì „ë¬¸ê°€ë‹¤.
ì£¼ì–´ì§„ ì´ë ¥ì„œ/ê²½ë ¥ í…ìŠ¤íŠ¸ë¥¼ ì½ê³ , 10ê°œ KPIì— ëŒ€í•´ ì ìˆ˜ë¥¼ ë§¤ê¸´ë‹¤.

{KPI_DEFINITIONS}

{FEW_SHOT_EXAMPLES}

## ì¶œë ¥ í˜•ì‹
ë°˜ë“œì‹œ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•´. ê° KPIì— ëŒ€í•´ ì ìˆ˜(score), ê·¼ê±° ìˆ˜ì¤€(basis), ê·¸ë¦¬ê³  í•´ë‹¹ ì ìˆ˜ë¥¼ ì¤€ **í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)**ì„ í•¨ê»˜ ì¶œë ¥.

```json
{{
  "1": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•´ë‹¹ KPIì— ëŒ€í•´ ì´ ì ìˆ˜ë¥¼ ì¤€ í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  "2": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}},
  ...
  "10": {{"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±° ë¬¸ì¥"}}
}}
```
{REASON_FORMAT_RULES}

## ê·¼ê±° ìˆ˜ì¤€(basis) íŒë‹¨ ê¸°ì¤€
- **"explicit"**: í…ìŠ¤íŠ¸ì— í•´ë‹¹ KPI ê´€ë ¨ **êµ¬ì²´ì  ê²½í—˜/ê¸°ìˆ /ì„±ê³¼ê°€ ëª…ì‹œ**ë˜ì–´ ìˆìŒ
- **"inferred"**: ì§ì ‘ ì–¸ê¸‰ì€ ì—†ì§€ë§Œ **ë§¥ë½ìƒ ì¶”ë¡  ê°€ëŠ¥** (ì˜ˆ: Spring ì‚¬ìš© â†’ Java ì¶”ë¡ )
- **"none"**: í•´ë‹¹ KPI ê´€ë ¨ **ì–¸ê¸‰ì´ ì „í˜€ ì—†ìŒ** â†’ ì ìˆ˜ëŠ” 40~50 ë²”ìœ„

## ì ìˆ˜ ë¶€ì—¬ ê·œì¹™ (ì¤‘ìš”!)
- ìƒ ìˆ˜ì¤€: 75~90 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ìƒ=88, ë³´í†µ ìƒ=82, ì•½í•œ ìƒ=76)
- ì¤‘ ìˆ˜ì¤€: 55~70 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ê°•í•œ ì¤‘=68, ë³´í†µ ì¤‘=62, ì•½í•œ ì¤‘=56)
- í•˜ ìˆ˜ì¤€: 40~50 ë²”ìœ„ì—ì„œ ê·¼ê±° ê°•ë„ì— ë”°ë¼ ì°¨ë“± (ì˜ˆ: ì•½ê°„ ì–¸ê¸‰=48, ê±°ì˜ ì—†ìŒ=44, ì „ë¬´=40)

## âš ï¸ ê³¼ëŒ€í‰ê°€ ë°©ì§€ ê·œì¹™ (í•„ìˆ˜!)
1. "ê¸°ë³¸ì ì¸", "ê°„ë‹¨í•œ", "ë‹¨ìˆœí•œ" í‘œí˜„ â†’ í•´ë‹¹ KPI ì¤‘(55~70) ìƒí•œ, ì ˆëŒ€ ìƒ ì•„ë‹˜
2. "ì²˜ìŒ ì ‘í•˜ë©°", "í•™ìŠµí•˜ë©°", "ê²½í—˜í•˜ì§€ ëª»í–ˆ" â†’ í•´ë‹¹ KPI í•˜(40~50)
3. ì¸ë±ìŠ¤ ì¶”ê°€ë§Œ ìˆê³  ìˆ˜ì¹˜ ê²°ê³¼ ì—†ìŒ â†’ KPI 3Â·6ì€ ì¤‘(55~70) ìƒí•œ
4. "íŒ€ í˜‘ì—…", "ë¬¸ì„œ ê³µìœ " ì¶”ìƒì  ì–¸ê¸‰ë§Œ â†’ KPI 9ëŠ” ì¤‘(55~70) ìƒí•œ
5. "ë¡œê·¸ í™•ì¸", "ê¸°ë³¸ ëª¨ë‹ˆí„°ë§" â†’ KPI 10ì€ ì¤‘(55~70) ìƒí•œ
"""

    user_prompt = f"""ë‹¤ìŒ ì´ë ¥ì„œë¥¼ í‰ê°€í•´ì¤˜:

{resume_text}

## í‰ê°€ ì „ í™•ì¸ì‚¬í•­:
2. "ê¸°ë³¸ì ì¸", "ê°„ë‹¨í•œ" í‘œí˜„ì´ ìˆìœ¼ë©´ â†’ í•´ë‹¹ KPIëŠ” ì¤‘(55~70) ìƒí•œ
3. "ì¸ë±ìŠ¤ ì¶”ê°€"ë§Œ ìˆê³  ìˆ˜ì¹˜(ì˜ˆ: 0.8ì´ˆâ†’0.3ì´ˆ) ì—†ìœ¼ë©´ â†’ KPI 3Â·6ì€ ì¤‘ ìƒí•œ
4. "ë¬¸ì„œë¡œ ì •ë¦¬", "í˜‘ì—…" ì¶”ìƒì  ì–¸ê¸‰ë§Œ â†’ KPI 9ëŠ” ì¤‘ ìƒí•œ
5. "ë¡œê·¸ ì •ë¦¬", "ê¸°ë³¸ ëª¨ë‹ˆí„°ë§" â†’ KPI 10ì€ ì¤‘ ìƒí•œ

JSON í˜•ì‹ìœ¼ë¡œ 10ê°œ KPIì˜ ì ìˆ˜(score), ê·¼ê±°ìˆ˜ì¤€(basis), í•œ ì¤„ ê·¼ê±° ë¬¸ì¥(reason)ì„ ì¶œë ¥í•´."""

    try:
        response = client.chat.completions.create(
            model="gpt-4o-mini",
            messages=[
                {"role": "system", "content": system_prompt},
                {"role": "user", "content": user_prompt}
            ],
            temperature=0.0,  # ì¼ê´€ì„± ìµœëŒ€í™”
            response_format={"type": "json_object"}
        )
        
        result = response.choices[0].message.content
        scores = json.loads(result)
        
        # KPI IDë¥¼ intë¡œ ë³€í™˜í•˜ê³  ë²”ìœ„ ì œí•œ
        parsed_scores = {}
        for kpi_id, data in scores.items():
            # ìƒˆ í˜•ì‹: {"score": ì ìˆ˜, "basis": "ê·¼ê±°ìˆ˜ì¤€", "reason": "í•œ ì¤„ ê·¼ê±°"}
            if isinstance(data, dict):
                score = max(40, min(90, int(data.get("score", 45))))
                basis = data.get("basis", "explicit")
                if basis not in ("explicit", "inferred", "none"):
                    basis = "explicit"
                reason = (data.get("reason") or "").strip() or None
            else:
                score = max(40, min(90, int(data)))
                basis = "explicit"
                reason = None

            parsed_scores[int(kpi_id)] = {
                "score": score,
                "basis": basis,
                "reason": reason,
            }
        
        return parsed_scores
    
    except Exception as e:
        print(f"LLM í‰ê°€ ì˜¤ë¥˜: {e}")
        # ì˜¤ë¥˜ ì‹œ ê¸°ë³¸ê°’ ë°˜í™˜
        return {i: {"score": 45, "basis": "none", "reason": None} for i in range(1, 11)}
